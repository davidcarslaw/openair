<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Changelog • openair</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Changelog"><meta property="og:image" content="https://davidcarslaw.github.io/openair/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">openair</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">2.18.2.9004</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/openair.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Functions</a></li>
<li class="active nav-item"><a class="nav-link" href="../news/index.html">News</a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://bookdown.org/david_carslaw/openair/">Book (external)</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/davidcarslaw/openair/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-news">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Changelog</h1>
      <small>Source: <a href="https://github.com/davidcarslaw/openair/blob/master/NEWS.md" class="external-link"><code>NEWS.md</code></a></small>
    </div>

    <div class="section level2">
<h2 class="pkg-version" data-toc-text="development version" id="openair-development-version">openair (development version)<a class="anchor" aria-label="anchor" href="#openair-development-version"></a></h2>
<div class="section level3">
<h3 id="new-features-development-version">New Features<a class="anchor" aria-label="anchor" href="#new-features-development-version"></a></h3>
<ul><li>
<p>The <code>source</code> argument of <code><a href="../reference/importUKAQ.html">importUKAQ()</a></code> now defaults to <code>NULL</code>. This option allows the function to assign the <code>source</code> of each <code>site</code> itself, with some caveats:</p>
<ul><li><p>Ambiguous codes (e.g., <code>"AD1"</code>, which corresponds to a SAQN and locally managed site) will preferentially import from the national networks (AURN, then AQE/SAQN/WAQN/NIAQN) over locally-managed networks. To override this users should manually define <code>source</code>.</p></li>
<li><p>Incorrect codes not found in <code><a href="../reference/importMeta.html">importMeta()</a></code> will error if <code><a href="../reference/importUKAQ.html">importUKAQ()</a></code> is left to assign the <code>source</code>.</p></li>
<li><p>When <code>data_type</code> is one of the aggregate types (e.g., <code>"annual"</code>) and a <code>site</code> isn’t defined, a <code>source</code> must be provided.</p></li>
<li><p>It is likely <em>slightly</em> slower for the function to assign <code>source</code> itself than for users to specify it themselves.</p></li>
</ul></li>
<li>
<p>Added new features for <code><a href="../reference/openColours.html">openColours()</a></code>:</p>
<ul><li><p>Added new qualitative colour palettes: the “tol” family are colour-blind friendly palettes based on the work of Paul Tol (<a href="https://personal.sron.nl/~pault/" class="external-link uri">https://personal.sron.nl/~pault/</a>), and “tableau” and “observable” provide access to the “Tableau10” and “Observable10” palettes to aid in consistency with plots made in those platforms.</p></li>
<li><p>When <code>n</code> isn’t defined for a qualitative palette (e.g., “Dark2”), the full qualitative palette will be returned. Previously this errored with the default of <code>100</code>.</p></li>
<li><p><code><a href="../reference/openColours.html">openColours()</a></code> will now check whether the provided <code>scheme</code> is either a known scheme name <em>or</em> a vector of valid R colours, and provide an informative error if this is not the case.</p></li>
</ul></li>
<li><p>The <code>formula.label</code> argument of <code><a href="../reference/polarPlot.html">polarPlot()</a></code> will now control whether concentration information is printed when <code>statistic = "cpf"</code>.</p></li>
<li><p>add <code>calm.thresh</code> as an option to <code>windRose</code>. This change allows users to set a non-zero wind speed threshold that is considered as calm.</p></li>
<li><p>DAQI information imported using <code>importUKAQ(data_type = "daqi")</code> will be returned with the relevant DAQI band appended as an additional factor column; either “Low” (1-3), “Moderate” (4-6), “High” (7-9), or “Very High” (10). See <a href="https://uk-air.defra.gov.uk/air-pollution/daqi" class="external-link uri">https://uk-air.defra.gov.uk/air-pollution/daqi</a> for more information.</p></li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-development-version">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-development-version"></a></h3>
<ul><li><p>Fixed an issue wherein <code><a href="../reference/importUKAQ.html">importUKAQ()</a></code> would drop sites if importing from <code>local</code> sites <em>and</em> another network.</p></li>
<li><p><code><a href="../reference/polarCluster.html">polarCluster()</a></code> will no longer error with multiple <code>pollutant</code>s and a single <code>n.clusters</code>.</p></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.18-2" id="openair-218-2">openair 2.18-2<a class="anchor" aria-label="anchor" href="#openair-218-2"></a></h2><p class="text-muted">CRAN release: 2024-03-11</p>
<div class="section level3">
<h3 id="new-features-2-18-2">New Features<a class="anchor" aria-label="anchor" href="#new-features-2-18-2"></a></h3>
<ul><li>add option to <code><a href="../reference/corPlot.html">corPlot()</a></code> to carry through “use” option in <code>cor</code>.</li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-2-18-2">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-2-18-2"></a></h3>
<ul><li>fix date formatting issue in <code><a href="../reference/aqStats.html">aqStats()</a></code>.</li>
<li>fix wrong formula for Euclidian distances in <code><a href="../reference/trajCluster.html">trajCluster()</a></code> that did not transform coordinates before distance matrix was calculated. Thanks to Dan Jaffe.</li>
<li>“15_min” can once again be used as a <code>data_type</code> in the <code><a href="../reference/importUKAQ.html">importUKAQ()</a></code> family.</li>
<li>
<code><a href="../reference/importUKAQ.html">importUKAQ()</a></code> can now be used to import annual, monthly, and DAQI statistics for multiple combinations of <code>source</code> and <code>year</code>.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.18-0" id="openair-218-0">openair 2.18-0<a class="anchor" aria-label="anchor" href="#openair-218-0"></a></h2><p class="text-muted">CRAN release: 2023-10-09</p>
<div class="section level3">
<h3 id="new-features-2-18-0">New Features<a class="anchor" aria-label="anchor" href="#new-features-2-18-0"></a></h3>
<ul><li>
<p>added a new <code><a href="../reference/importUKAQ.html">importUKAQ()</a></code> function, which supersedes <code><a href="../reference/importUKAQ-wrapper.html">importAURN()</a></code>, <code><a href="../reference/importUKAQ-wrapper.html">importAQE()</a></code>, <code><a href="../reference/importUKAQ-wrapper.html">importWAQN()</a></code>, <code><a href="../reference/importUKAQ-wrapper.html">importSAQN()</a></code>, <code><a href="../reference/importUKAQ-wrapper.html">importNI()</a></code> and <code><a href="../reference/importUKAQ-wrapper.html">importLocal()</a></code>. <code><a href="../reference/importUKAQ.html">importUKAQ()</a></code> brings a lot of new functionality to accessing UK air quality data through <a href="https://davidcarslaw.github.io/openair/">openair</a>.</p>
<ul><li><p><code><a href="../reference/importUKAQ.html">importUKAQ()</a></code> has all of the same arguments as the functions it supersedes, as well as “source” to define the specific network of interest. The “source” argument can either be of length 1 or equal to the length of the “site” argument. This means that <code><a href="../reference/importUKAQ.html">importUKAQ()</a></code> can import statistics from multiple different networks at once.</p></li>
<li><p><code><a href="../reference/importUKAQ.html">importUKAQ()</a></code> allows <code>ratified = TRUE</code> and <code>to_narrow = TRUE</code> simultaneously. This will return a tibble with two columns per observation - “value” containing the concentration and “qc” containing <code>TRUE</code>/<code>FALSE</code> which indicates whether the concentration is validated.</p></li>
<li><p>The AQE, WAQN, SAQN and NI networks now allow for <code>data_type = "daqi"</code>. At time of writing, only data from 2022 is present.</p></li>
<li><p>the <code>site</code> and <code>pollutant</code> arguments of <code><a href="../reference/importUKAQ.html">importUKAQ()</a></code> are respected when <code>data_type</code> is “daqi”, “annual” or “monthly”. The default behaviour to return all available statistics has not changed. (<a href="https://github.com/davidcarslaw/openair/issues/346" class="external-link">#346</a>)</p></li>
<li><p>the various arguments which augment import function outputs now behave more consistently with one another. For example, <code>ratified</code> now respects <code>pollutant</code> and only returns the “_qc” columns for the pollutants of interest.</p></li>
<li><p><code><a href="../reference/importUKAQ-wrapper.html">importAURN()</a></code>, <code><a href="../reference/importUKAQ-wrapper.html">importAQE()</a></code>, <code><a href="../reference/importUKAQ-wrapper.html">importWAQN()</a></code>, <code><a href="../reference/importUKAQ-wrapper.html">importSAQN()</a></code>, <code><a href="../reference/importUKAQ-wrapper.html">importNI()</a></code> and <code><a href="../reference/importUKAQ-wrapper.html">importLocal()</a></code> are still exported by <a href="https://davidcarslaw.github.io/openair/">openair</a>. These are all simply wrappers around <code><a href="../reference/importUKAQ.html">importUKAQ()</a></code> with forced “source” arguments, and remain for back-compatibility and convenience.</p></li>
<li><p>While <code><a href="../reference/importKCL.html">importKCL()</a></code> also imports UK air quality data, it is not currently made available through <code><a href="../reference/importUKAQ.html">importUKAQ()</a></code>. Users should continue to import KCL data via <code><a href="../reference/importKCL.html">importKCL()</a></code> for the time being.</p></li>
</ul></li>
<li>
<p><code><a href="../reference/importMeta.html">importMeta()</a></code> has gained two new “source” options to assist with the new <code><a href="../reference/importUKAQ.html">importUKAQ()</a></code> function:</p>
<ul><li><p><code>source = "ukaq"</code> will return metadata for all of the “UKAQ” networks.</p></li>
<li><p><code>source = "all"</code> will return all available metadata (including KCL and Europe).</p></li>
</ul></li>
<li><p>new function <code><a href="../reference/runRegression.html">runRegression()</a></code> for extracting ‘dilution lines’ from air quality and other data. Online manual will be updated with principles and examples.</p></li>
<li><p><code><a href="../reference/calendarPlot.html">calendarPlot()</a></code> now automatically creates its own <code>labels</code> if <code>breaks</code> are specified. For example, <code>c(0, 10, 20)</code> will create the labels <code>c("0 - 10", "10 - 20")</code>. <code>labels</code> can still be used to override the default values. (<a href="https://github.com/davidcarslaw/openair/issues/341" class="external-link">#341</a>)</p></li>
<li><p>Added the <code>w.abbr.len</code> argument to <code><a href="../reference/calendarPlot.html">calendarPlot()</a></code> which controls the length of the weekday abbreviation. This was requested to help people using written Chinese, but will be more broadly useful (e.g., to use “Mon”, “Tue”, “Wed” in place of “M”, “T”, “W”). (<a href="https://github.com/davidcarslaw/openair/issues/101" class="external-link">#101</a>)</p></li>
<li><p>return tibble from <code><a href="../reference/timeAverage.html">timeAverage()</a></code>.</p></li>
<li><p>add option <code>panel.gap</code> to leave space between panels in <code>timeAverage</code> day-hour plots. Set to 0 for previous behaviour.</p></li>
<li><p>Move regression formula off main plot for <code><a href="../reference/polarPlot.html">polarPlot()</a></code> for clarity and label slope as ‘m’.</p></li>
<li><p>Tweak seasonal trend decomposition using STL to allow the seasonal amplitude to vary more. Affects <code><a href="../reference/smoothTrend.html">smoothTrend()</a></code> and <code><a href="../reference/TheilSen.html">TheilSen()</a></code>.</p></li>
<li><p>Added colours recommended by the UK Government Analysis Function (<a href="https://analysisfunction.civilservice.gov.uk/policy-store/data-visualisation-colours-in-charts/" class="external-link uri">https://analysisfunction.civilservice.gov.uk/policy-store/data-visualisation-colours-in-charts/</a>) to <code><a href="../reference/openColours.html">openColours()</a></code>.</p></li>
<li><p><code>polarCluster</code> now prints the cluster contributions and returns a data frame of them in the output.</p></li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-2-18-0">Bug Fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-2-18-0"></a></h3>
<ul><li><p>The order of columns in <code><a href="../reference/importUKAQ.html">importUKAQ()</a></code> will remain consistent (metadata, date, pollutants, meteo) regardless of whether <code>hc</code> is <code>TRUE</code> or <code>FALSE</code>.</p></li>
<li><p><code><a href="../reference/quickText.html">quickText()</a></code> will now automatically capitalise “no” to “NO”. (<a href="https://github.com/davidcarslaw/openair/issues/343" class="external-link">#343</a>)</p></li>
<li><p>The <code>year</code> argument of <code><a href="../reference/importMeta.html">importMeta()</a></code> is now respected when <code>source = "kcl"</code> and <code>"europe"</code>.</p></li>
<li><p>Several of the directional analysis plot family (e.g., <code><a href="../reference/polarFreq.html">polarFreq()</a></code>) have been refactored to use <code><a href="https://rdrr.io/r/base/NULL.html" class="external-link">is.null()</a></code> or <code><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na()</a></code> over <code><a href="https://rdrr.io/r/base/missing.html" class="external-link">missing()</a></code>. While predominantly an internal change, this should be make these functions easier to use inside of other functions (e.g., <code>function(data, breaks = NA) polarFreq(data, breaks = breaks))</code> will now run successfully).</p></li>
<li><p>For <code>calendarPlot</code> when annotated with ws or wd arrows, use max ws/wd that corresponds to hour of maximum pollutant concentration and not simple the max ws/wd for a day.</p></li>
<li><p><code><a href="../reference/summaryPlot.html">summaryPlot()</a></code> no longer forces time zones to be GMT. (<a href="https://github.com/davidcarslaw/openair/issues/356" class="external-link">#356</a>)</p></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.17-0" id="openair-217-0">openair 2.17-0<a class="anchor" aria-label="anchor" href="#openair-217-0"></a></h2><p class="text-muted">CRAN release: 2023-05-02</p>
<div class="section level3">
<h3 id="new-features-2-17-0">New Features<a class="anchor" aria-label="anchor" href="#new-features-2-17-0"></a></h3>
<ul><li><p>add option <code>meteo</code> to <code><a href="../reference/importUKAQ-wrapper.html">importAURN()</a></code> family of functions. By default modelled wind speed, direction and ambient temperature are returned if available, but not if <code>meteo = FALSE</code>.</p></li>
<li><p>added a new column to <code><a href="../reference/modStats.html">modStats()</a></code>, “P”, which represents the P-value of the correlation as reported by <code><a href="https://rdrr.io/r/stats/cor.test.html" class="external-link">cor.test()</a></code>.</p></li>
<li><p>update processing of ADMS meteorological (.MOP) files to return stability and tidier data.</p></li>
<li><p>refined the output of <code><a href="../reference/pollutionRose.html">pollutionRose()</a></code> where the <code>ws2</code> and <code>wd2</code> options are provided; instead of the misleading N/E/S/W, the markers become 0, +90, +/-180, -90.</p></li>
<li><p>the <code><a href="../reference/timeAverage.html">timeAverage()</a></code> progress bar is now powered by <a href="https://cli.r-lib.org" class="external-link">cli</a>/<a href="https://purrr.tidyverse.org/" class="external-link">purrr</a> and can be silenced using the new <code>progress</code> argument.</p></li>
<li><p>the <code><a href="../reference/polarCluster.html">polarCluster()</a></code> progress bar is now also powered by <a href="https://cli.r-lib.org" class="external-link">cli</a>/<a href="https://purrr.tidyverse.org/" class="external-link">purrr</a>.</p></li>
<li><p>colours corresponding to the UK daily air quality index (<a href="https://uk-air.defra.gov.uk/air-pollution/daqi" class="external-link uri">https://uk-air.defra.gov.uk/air-pollution/daqi</a>) have been added as options to <code><a href="../reference/openColours.html">openColours()</a></code>.</p></li>
<li><p>the <a href="https://davidcarslaw.github.io/openair/">openair</a> object’s <code>data</code> property returned by the <code><a href="../reference/trajLevel.html">trajLevel()</a></code> function is now consistently formatted regardless of <code>statistic</code> choice, and contains relevant statistic-specific information (e.g., <code>sigma</code> for <code>"SQTBA"</code>).</p></li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-2-17-0">Bug Fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-2-17-0"></a></h3>
<ul><li><p>fixed issue with <code><a href="../reference/modStats.html">modStats()</a></code> such that “method” can now be changed (e.g., to “spearman”).</p></li>
<li><p>fixed issue with <code><a href="../reference/aqStats.html">aqStats()</a></code> where output wasn’t being properly split by pollutant/type.</p></li>
<li><p>fixed issue with <code><a href="../reference/conditionalQuantile.html">conditionalQuantile()</a></code> where the plot would fail to be produced when “type” was not specified.</p></li>
<li><p>fixed issue with <code><a href="../reference/cutData.html">cutData()</a></code> where “season” wouldn’t respect system locale (e.g., would still show “(DJF)” on Italian systems, instead of the correct “(gla)”). Note that the season name itself (e.g., “Winter”) cannot be automatically converted.</p></li>
<li><p>fixed the <code>theilSen()</code> <code>silent</code> argument. The message “taking bootstrap samples. please wait” is also now sent via <code><a href="https://rdrr.io/r/base/message.html" class="external-link">message()</a></code> rather than <code><a href="https://rdrr.io/r/base/print.html" class="external-link">print()</a></code> and only appears once per function call.</p></li>
<li><p>fixed issue where <code><a href="../reference/trajCluster.html">trajCluster()</a></code> proportions would overlap when clustering forward trajectories. Proportions should now appear at the end of cluster paths, regardless of whether the trajectory is back or forward.</p></li>
<li><p>fixed issue where not all <a href="https://davidcarslaw.github.io/openair/">openair</a> plotting functions would properly return an openair S3 object, and that not all <code>data</code> objects were tibbles.</p></li>
<li><p>Fixed issue with <code><a href="../reference/timeAverage.html">timeAverage()</a></code> where date formatting caused problems, possibly due to latest version of R (4.3.0).</p></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.15" id="openair-215">openair 2.15<a class="anchor" aria-label="anchor" href="#openair-215"></a></h2><p class="text-muted">CRAN release: 2023-02-06</p>
<ul><li><p>do not use native pipe yet - does not work with old versions of R</p></li>
<li><p>fix issue with <code><a href="../reference/polarDiff.html">polarDiff()</a></code> where the resulting <code>openair</code> object did not contain the <code>plot</code> element.</p></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.14" id="openair-214">openair 2.14<a class="anchor" aria-label="anchor" href="#openair-214"></a></h2><p class="text-muted">CRAN release: 2023-01-25</p>
<ul><li><p>add <code>year</code> as an option to <code>importMeta</code>. This allows the user to select sites that were only open at some point in the chosen year or duration of years.</p></li>
<li><p>make sure full daily gravimetric data are returned for PM10 and PM2.5 if available when using <code>importAURN</code> family of functions. These data will be returned as <code>gr_pm2.5</code> and <code>gr_pm10</code> if <code>data_type = "daily"</code></p></li>
<li><p>add <code>alpha</code> argument to all polar directional analysis functions. This is mainly for use in <code>openairmaps</code> but may be of general interest for specific use cases.</p></li>
<li><p>fix small bug in <code>smoothTrend</code> in returned fit data when data is missing.</p></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.13" id="openair-213">openair 2.13<a class="anchor" aria-label="anchor" href="#openair-213"></a></h2><p class="text-muted">CRAN release: 2023-01-06</p>
<ul><li>add <code>importLocal</code> to access locally-managed automatic monitoring data</li>
<li>fix bug in <code>pollutionRose</code> when single number of breaks given (was ignored)</li>
<li>remove legacy functions <code>import</code>, <code>import.2</code>, <code>importAURNcsv</code> and <code>kernelExceed</code>
</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.11" id="openair-211">openair 2.11<a class="anchor" aria-label="anchor" href="#openair-211"></a></h2><p class="text-muted">CRAN release: 2022-09-25</p>
<ul><li>add <code>sigma</code> to options for SQTBA trajectory analysis for control over plume spread assumptions; set to 1.5 km (in one hour)</li>
<li>fix bug introduced in <code>timeAverage</code> for multi-time period averages</li>
<li>fix bug in <code>timeProp</code> and simplify code</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.10" id="openair-210">openair 2.10<a class="anchor" aria-label="anchor" href="#openair-210"></a></h2>
<ul><li>add Daily Air Quality Index (DAQI) to <code>importAURN</code> as <code>data_type</code>.</li>
<li>add rolling 8 and 24 hour statistics to <code>importAURN</code> family as <code>data_type</code>.</li>
<li>use https on importing meta data in <code>importMeta</code>
</li>
<li>fix <code>calendarPlot</code> issue when there are gaps between selected months e.g.<code>month = c(1, 2, 12)</code>
</li>
<li>fix warning message in <code>calendarPlot</code>
</li>
<li>don’t pad missing dates in <code>timeAverage</code> if DST</li>
<li>deprecate <code>resolution</code> in <code>polarPlot</code> — now uses predictions at a coarser resolution that are interpolated. Will also speed-up plotting</li>
<li>add new source method to trajectory analysis (<code>trajlevel</code>), SQTBA — Simplified Quantitative Transport Bias Analysis</li>
<li>fix bivariate Gaussian function in <code>polarPlot</code> when two pollutants supplied for different statistics</li>
<li>add initial version of ‘York regression’ approach as an option to <code>polarPlot</code>. This regression approach determines a best fit line when there is error in the ‘x’ and the ‘y’. The openair book will be updated to cover this in more detail.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.9-1" id="openair-29-1">openair 2.9-1<a class="anchor" aria-label="anchor" href="#openair-29-1"></a></h2><p class="text-muted">CRAN release: 2022-03-30</p>
<ul><li>Do not return hydrocarbon measurements by default for annual and monthly summaries in <code>importAURN</code>.</li>
<li>fix issue with class of date-time object for importing some air quality data e.g. <code>importAURN</code>.</li>
<li>refine default grid lines in <code>windRose</code> and <code>pollutionRose</code>.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.9-0" id="openair-29-0">openair 2.9-0<a class="anchor" aria-label="anchor" href="#openair-29-0"></a></h2><p class="text-muted">CRAN release: 2022-03-22</p>
<ul><li>add option to <code>TaylorDiagram</code> for annotation of observed data.</li>
<li>fix issue with <code>timevariation</code> when <code>difference = TRUE</code>
</li>
<li>fix <code>trajCluster</code> issue to do with <code>dplyr</code>
</li>
<li>access other time-averaged air quality data using <code>importAURN</code>, <code>importSAQN</code>, <code>importWAQN</code>, <code>importAQE</code> and <code>importNI</code>. New option <code>data_type</code>, which can be “hourly” (default), “annual”, “monthly”, “daily” and “15min” (for SO<sub>2</sub>). These new data sources should make it much easier to work with long-term time series with many sites. See <a href="https://bookdown.org/david_carslaw/openair/sections/data-access/UK-air-quality-data.html" class="external-link">the openair manual</a> for more details.</li>
<li>fix terrible spelling in <code>selectRunning</code>.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.8-6" id="openair-28-6">openair 2.8-6<a class="anchor" aria-label="anchor" href="#openair-28-6"></a></h2><p class="text-muted">CRAN release: 2021-11-22</p>
<ul><li>fix annotation bug when comparing two data sets in <code>windRose</code>
</li>
<li>enhance <code>selectRunning</code>. Now returns full data frame with a new condition column.</li>
<li>make sure “hemisphere” argument goes to type “monthyear” and “yearmonth”</li>
<li>argument <code>month</code> not passed in <code>calendarPlot</code>
</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.8-4" id="openair-28-4">openair 2.8-4<a class="anchor" aria-label="anchor" href="#openair-28-4"></a></h2><p class="text-muted">CRAN release: 2021-09-15</p>
<ul><li>fix bug in <code>windRose</code> where whole period is calm</li>
<li>add optimisation to <code>polarCluster</code> to speed up clustering through option <code>pamonce = 3</code>. This should not appreciably affect results.</li>
<li>fix strange bug in <code>aqStats</code> due to <code>lubridate</code> time zone issue.</li>
<li>fix bug in <code>TaylorDiagram</code> when group was present.</li>
<li>Do not convert times with Daylight Saving Time when checking data — just report presence.</li>
<li>add option <code>plot.type</code> to <code>summaryPlot</code> to change line style; most useful for vertical lines in time series with <code>plot.type = "h"</code>
</li>
</ul><div class="section level3">
<h3 id="openair-2-8-4">openair 2.8-1<a class="anchor" aria-label="anchor" href="#openair-2-8-4"></a></h3>
<ul><li>Fix bug that crept in for <code>polarCluster</code>
</li>
</ul></div>
<div class="section level3">
<h3 id="openair-2-8-4-1">openair 2.8-0<a class="anchor" aria-label="anchor" href="#openair-2-8-4-1"></a></h3>
<ul><li>New function <code>polarDiff</code> to consider the difference surface between two polar plots.</li>
<li>Modify <code>polarCluster</code> to consider clustering of differences in polar plot surfaces.</li>
<li>Fix user annotation in <code>windRose</code> and pass on option for number of significant figures used to annotate plots (<code>dig.lab</code>)</li>
</ul></div>
<div class="section level3">
<h3 id="openair-2-8-4-2">openair 2.7-6<a class="anchor" aria-label="anchor" href="#openair-2-8-4-2"></a></h3>
<ul><li>fix bug with <code>percentileRose</code> when <code>statistic = "cpf"</code> and multiple pollutants</li>
<li>fix bug in <code>timeAverage</code> when <code>type = "season"</code> and <code>avg.time = "season"</code>
</li>
<li>add <code>week</code> to openair default types</li>
<li>fix bug in <code>timeVariation</code> when considering difference plots with missing data</li>
<li>fix CRAN check when using <code>return</code>
</li>
</ul></div>
<div class="section level3">
<h3 id="openair-2-8-4-3">openair 2.7-4<a class="anchor" aria-label="anchor" href="#openair-2-8-4-3"></a></h3>
<ul><li>add ambient temperature (<code>air_temp</code>) to meteorological variables returned from <code>importAURN</code>, <code>importSAQN</code> and <code>importWAQN</code> (using WRF model).</li>
<li>re-format date returned in <code>importAQE</code> due to strange <code>dplyr</code> join issues</li>
<li>add <code>statistic = "Spearman"</code> to <code>polarPlot</code> as an option when considering two pollutants.</li>
<li>add <code>method</code> option to <code>corPlot</code> to allow different correlation methods (“pearson”, “spearman” or “kendall”)</li>
<li>re-factor all UK air quality data import functions i.e. <code>importAURN</code>, <code>importSAQN</code>, <code>importWAQN</code>, <code>importAQE</code>.</li>
<li>Add <code>importNI</code> to import data from Northern Ireland.</li>
<li>Add option to UK air quality import functions to return information on whether individual pollutants have been quality-assured using option <code>ratified</code>. These functions include <code>importAURN</code>, <code>importSAQN</code>, <code>importWAQN</code>, <code>importAQE</code> and <code>importNI</code>
</li>
<li>Clean up what is returned from <code>importMeta</code>
</li>
<li>Return air quality data site name and code as character rather than factor</li>
</ul></div>
<div class="section level3">
<h3 id="openair-2-8-4-4">openair 2.7-2<a class="anchor" aria-label="anchor" href="#openair-2-8-4-4"></a></h3>
<ul><li>fix tibble recycling issue</li>
<li>fix shading issue in lowest percentile range in <code>percentileRose</code>.</li>
<li>fix strange bug in <code>importWAQN</code> that would intermittently fail; sometimes crashing R.</li>
<li>add option <code>date.format</code> to <code>TheilSen</code>.</li>
</ul></div>
<div class="section level3">
<h3 id="openair-2-8-4-5">openair 2.7-0<a class="anchor" aria-label="anchor" href="#openair-2-8-4-5"></a></h3>
<ul><li>fix <code>calendarPlot</code> slowness on MacOS</li>
<li>Refine use of Gaussian kernels when two pollutant statistics are considered in <code>polarPlot</code>
</li>
<li>Add option <code>statistic = "nwr"</code> in <code>polarPlot</code> that implements the Non-parametric Wind Regression based on Henry et al. (2009). The <code>openair</code> implementation is not identical but should yield similar results.</li>
<li>NEW <code>importAQE</code> function to import data from <a href="https://www.airqualityengland.co.uk/" class="external-link">Air Quality England</a> sites.</li>
<li>NEW <code>importEurope</code> to provide access to some the data from the <code>saqgetr</code> package.</li>
</ul></div>
<div class="section level3">
<h3 id="openair-2-8-4-6">openair 2.6-6<a class="anchor" aria-label="anchor" href="#openair-2-8-4-6"></a></h3>
<ul><li>fix bug in <code>TheilSen</code> when no missing data and <code>deseason = TRUE</code>
</li>
<li>fix bug in <code>timeAverage</code> when interval padding dates and date is “Date” class and not “POSIXct”</li>
<li>fix example for <code>trajCluster</code>, should be <code>n.cluster</code> not <code>n.clusters</code>
</li>
<li>fix issue with DST in <code>cutData</code>
</li>
<li>allow ‘hemisphere’ to be supplied as an argument to <code>timeAverage</code>, used for avg.time = “season”.</li>
<li>add option <code>to_narrow</code> to <code>importAURN</code>, <code>importSAQN</code>, <code>importKCL</code> and <code>importWAQN</code> to stack data into a tidy format. The data are now returned as a ‘tibble’</li>
<li>Allow meta data to be returned in <code>importSAQN</code> and <code>importWAQN</code>.</li>
</ul></div>
<div class="section level3">
<h3 id="openair-2-8-4-7">openair 2.6-4<a class="anchor" aria-label="anchor" href="#openair-2-8-4-7"></a></h3>
<ul><li>fix issue with <code>TheilSen</code> when conditioning and &lt; 6 annual measurements</li>
<li>remove arrow heads in <code>polarPlot</code> axes.</li>
<li>Use a Kalman filter and Kalman smooth to impute missing monthly means when <code>deseason = TRUE</code> in <code>smoothTrend</code> and <code>TheilSen</code>. This replaces simple linear interpolation.</li>
<li>fix bug in <code>smoothTrend</code> when <code>ci = FALSE</code> (no smooth was fitted).</li>
<li>Add <code>importWAQN</code> to access data from the <a href="https://airquality.gov.wales/" class="external-link">Welsh air quality network</a>.</li>
<li>Add “waqn” as a data source to <code>importMeta</code>.</li>
</ul></div>
<div class="section level3">
<h3 id="openair-2-8-4-8">openair 2.6-1<a class="anchor" aria-label="anchor" href="#openair-2-8-4-8"></a></h3>
<ul><li>Update handling of meta data in <code>importMeta</code>.</li>
</ul></div>
<div class="section level3">
<h3 id="openair-2-8-4-9">openair 2.6-0<a class="anchor" aria-label="anchor" href="#openair-2-8-4-9"></a></h3>
<ul><li>In <code>aqStats</code> use default <code>data.thresh = 0</code> rather than 75% to ensure summaries are calculated</li>
<li>Fix confidence intervals in <code>timeVariation</code> when statistic - “median”. Revision will result in narrower range.</li>
<li>Change default in <code>corPlot</code> to plot lower and upper triangles; add <code>lower</code> as an option.</li>
<li>Update meta data for Scottish Air Quality Network (“saqn”); was badly out of date</li>
<li>fix bug in <code>timeAverage</code> when interval more than one time unit e.g. “10 day”</li>
</ul></div>
<div class="section level3">
<h3 id="openair-2-8-4-10">openair 2.5-0<a class="anchor" aria-label="anchor" href="#openair-2-8-4-10"></a></h3>
<ul><li>add simple versions of <strong>viridis</strong> colour palettes: “viridis”, “plasma”, “magma”, “inferno” and “cividis” e.g. <code>polarPlot(mydata, cols = "plasma")</code>
</li>
<li>allow option <code>align</code> to be used in <code>aqStats</code> to determine how rolling means are calculated. Can take the values “centre” (default), “left” and “right”.</li>
<li>make sure full year present in <code>importAURN</code>
</li>
<li>fix issue with multiple pollutants in <code>polarAnnulus</code>
</li>
<li>fix issues in trajectory functions due to <code>dplyr</code>.</li>
</ul></div>
<div class="section level3">
<h3 id="openair-2-8-4-11">openair 2.4-0<a class="anchor" aria-label="anchor" href="#openair-2-8-4-11"></a></h3>
<ul><li>use <code>lubridate</code> in <code>timeAverage</code> to improve speed / simplicity</li>
<li>make sure all strip colours are white for <code>openair</code> objects</li>
<li>fix bug in <code>polarPlot</code> when <code>statistic = "cpf"</code> when using tibbles</li>
<li>fix bug in <code>polarCluster</code> with exported data (date was not correctly merged to produce single date column)</li>
<li>convert internal <code>mydata</code> to a ‘tibble’ for easier printing.</li>
<li>allow <code>npoints = NA</code> in <code>trajPlot</code> to suppress plotting of interval points.</li>
<li>fix bias correction bug in <code>windRose</code> when ws/wd have different names</li>
<li>fix bug in <code>timeAverage</code> for wind direction (<code>wd</code>) when <code>statistic = "data.cap"</code>
</li>
<li>New built-in colour palette for the colour blind “cbPalette”. Note maximum number of colours is 8 e.g. <code>windRose(mydata, col = "cbPalette", breaks = 6)</code>. Thanks to Jerry Martin.</li>
</ul></div>
<div class="section level3">
<h3 id="openair-2-8-4-12">openair 2.3-0<a class="anchor" aria-label="anchor" href="#openair-2-8-4-12"></a></h3>
<ul><li>add option <code>plot</code> to <code>TheilSen</code>. <code>FALSE</code> can be useful when analysing data to extract the trend components and plot in other ways and when the <code>TheilSen</code> plot is not required.</li>
<li>add option <code>silent</code> to <code>TheilSen</code> to avoid printing updates to trend fitting. By default it is <code>FALSE</code>.</li>
<li>fix wrong ordering of names in <code>timeVariation</code> when more than one pollutant</li>
<li>fix date parsing issues in <code>selectByDate</code>.</li>
<li>fix wrong ordering in <code>timePlot</code>
</li>
<li>allow <code>calendarPlot</code> to span any time period. The function can now straddle parts of two years or several years.</li>
<li>add option <code>col.arrow</code> to <code>calendarPlot</code> to control colour of the wind speed / direction annotation arrows.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.2-3" id="openair-22-3">openair 2.2-3<a class="anchor" aria-label="anchor" href="#openair-22-3"></a></h2><p class="text-muted">CRAN release: 2018-02-26</p>
<div class="section level3">
<h3 id="main-changes-2-2-3">Main changes<a class="anchor" aria-label="anchor" href="#main-changes-2-2-3"></a></h3>
<ul><li>refine <code>selectByDate</code> due to changes in <code>lubridate</code>
</li>
<li>fix issue with <code>importSAQN</code> when no data</li>
<li>remove site information from help of <code>importAURN</code> and point users to <code>importMeta</code>
</li>
<li>fixed bug in <code>scatterPlot</code> when <code>method = "level"</code> due to NSE</li>
<li>use <code>tidyr</code> in place of <code>reshape2</code>
</li>
<li>remove dependency of <code>plyr</code> and <code>reshape2</code>
</li>
<li>fix bug in <code>percentileRose</code> for <code>method = "cpf"</code> with multiple pollutants</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.1-5" id="openair-21-5">openair 2.1-5<a class="anchor" aria-label="anchor" href="#openair-21-5"></a></h2><p class="text-muted">CRAN release: 2017-08-31</p>
<div class="section level3">
<h3 id="main-changes-2-1-5">Main changes<a class="anchor" aria-label="anchor" href="#main-changes-2-1-5"></a></h3>
<ul><li>change <code>polarCluster</code> resolution to “normal” rather than “fine” to speed up.</li>
<li>fix regression when fitting smooth using <code>trajLevel</code>
</li>
<li>remove all Airbase functions, will be available via new package that also incorporates newer e-reporting data</li>
<li>fix bug in <code>timeAverage</code> when <code>statistic = "sum"</code> and all data in period was missing (would return 0 rather than <code>NA</code>)</li>
<li>make sure that same data used in all <code>conditionalEval</code> plots by using data where there are no missing data for all variables used. This is more important of <code>var.obs</code> and <code>var.mod</code> are supplied and hence additional variables are considered relative to only <code>obs</code> and <code>mod</code>.</li>
<li>fix date issues in <code>calendarPlot</code> to do with time zones</li>
<li>remove missing data when type is a numeric value split up into quantiles</li>
<li>fix bug in <code>windRose</code>/<code>pollutionRose</code> when two conditioning variables were given (problem in bias correction)</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.1-0" id="openair-21-0">openair 2.1-0<a class="anchor" aria-label="anchor" href="#openair-21-0"></a></h2><p class="text-muted">CRAN release: 2017-04-12</p>
<div class="section level3">
<h3 id="main-changes-2-1-0">Main changes<a class="anchor" aria-label="anchor" href="#main-changes-2-1-0"></a></h3>
<ul><li>add <code>angle</code> option to <code>percentileRose</code> to allow wind direction averages for sectors &gt;10 degrees.</li>
<li>fix bug in <code>aqStats</code> if only a few lines of data</li>
<li>allow <code>statistic</code> to equal “mean”, “median” or “frequency” in <code>scatterPlot</code>, when <code>method = "level"</code>
</li>
<li>change smoothing in <code>scatterPlot</code> when <code>method = "level"</code> to use tensor interaction to allow for better smoothing when x and y are on different scales.</li>
<li>warn when &gt;10% negative data detected in <code>polarPlot</code> and suggest setting <code>force.postive = FALSE</code>
</li>
<li>make <code>maps</code> Suggests rather than Depends</li>
<li>refine check on whether bias correction is needed in <code>windRose</code>
</li>
<li>still plot data when &lt;6 points in <code>TheilSen</code> and when no trend information is given</li>
<li>New function <code>binData</code> to easily summarise mean and 95% confidence intervals for intervals of a variable</li>
<li>Export <code>bootMeanDF</code>, used to calculate the bootstrap uncertainty in the mean of a vector.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.0-0" id="openair-20-0">openair 2.0-0<a class="anchor" aria-label="anchor" href="#openair-20-0"></a></h2><p class="text-muted">CRAN release: 2016-11-23</p>
<div class="section level3">
<h3 id="main-changes-2-0-0">Main changes<a class="anchor" aria-label="anchor" href="#main-changes-2-0-0"></a></h3>
<ul><li>silence download progress by default in <code>importAURN</code>
</li>
<li>update <code>polarPlot</code> to work with pairwise statistics to compare two pollutants. The function can consider Pearson correlation and slopes from ordinary linear regression, robust regression (using <strong>MASS</strong> function <code>rlm</code>) and quantile regression (requires the <strong>quantreg</strong> package to be installed). See <a href="https://www.sciencedirect.com/science/article/pii/S1352231016307166" class="external-link">open access version</a> of the paper.</li>
<li>change default <code>polarPlot</code> plot resolution to “fine”.</li>
<li>fix <code>windRose</code> problem with some data due to missing data</li>
<li>move <code>mapdata</code> package to Suggests</li>
<li>add option to return meta data (site type, lat, lon) from <code>importAURN</code> and <code>importKCL</code>.</li>
<li>fix statistic = “weighted.mean” issue in <code>polarPlot</code>.</li>
<li>make sure <code>y.relation</code> is used when there is no grouping in <code>timePlot</code>. To retain the behaviour of earlier versions use <code>relation = "free"</code>
</li>
<li>fix issue with <code>type</code> when used with <code>timeProp</code>
</li>
<li>fix bias correction when not default type in <code>windRose</code>
</li>
<li>fix pch colour bug in <code>timePlot</code>
</li>
<li>add option <code>alpha</code> to <code>polarPlot</code> to control transparency of plotted surface. Mostly useful for overlaying polar plots on leaflet maps (see <a href="https://github.com/davidcarslaw/openairmaps" class="external-link">openairmaps</a> package)</li>
<li>enhance <code>grid.line</code> option in <code>windRose</code> so that users can control grid spacing, line type and line colour</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.9-9" id="openair-19-9">openair 1.9-9<a class="anchor" aria-label="anchor" href="#openair-19-9"></a></h2>
<div class="section level3">
<h3 id="main-changes-1-9-9">Main changes<a class="anchor" aria-label="anchor" href="#main-changes-1-9-9"></a></h3>
<ul><li>correct citation information</li>
<li>Now depends on R version of &gt;= 3.2.0 so that <code>download.file</code> can use <code>libcurl</code> for access to https (used in <code>importAURN</code>)</li>
<li>add <code>avg.time</code> option to <code>summaryPlot</code> to control the averaging times of the time series lines and <code>print.datacap</code> to control whether the data capture % is shown for each interval.</li>
<li>fix bug in <code>selectByDate</code> where a day number would not work</li>
<li>remove arrows in <code>windRose</code>, <code>polarPlot</code> to avoid ambiguous interpretation of wind direction</li>
<li>add <code>key.position</code> option to <code>timePlot</code> to control the location of the key.</li>
<li>fix labels in <code>timeVariation</code> when data for some types is missing.</li>
<li>fix <code>trendLevel</code> issue due to <code>dplyr</code>
</li>
<li>use <code>lubridate</code> package in <code>timeAverage</code>
</li>
<li>fix bug in <code>summaryPlot</code> related to <code>dplyr</code> use (would not plot missing data correctly)</li>
<li>better handling of precision in <code>windRose</code> mean and statistics returned in data (thanks to Dr Ulrich Quass)</li>
<li>fix bug in <code>importKCL</code> when incomplete time series (would drop site code and site name)</li>
<li>fix bug in <code>pollutionRose</code> due to issue with calms</li>
<li>fix bug in <code>smoothTrend</code> where model uncertainties were not returned</li>
<li>fix bug in <code>summaryPlot</code> where missing data would not be shown correctly when date was not ordered in sequence</li>
<li>fix annotation in <code>windRose</code> when comparing two data sets</li>
<li>
<code>GoogleMapsPlot</code> is deprecated and will be replaced with a better function.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.8-6" id="openair-18-6">openair 1.8-6<a class="anchor" aria-label="anchor" href="#openair-18-6"></a></h2><p class="text-muted">CRAN release: 2016-06-15</p>
<ul><li>Only plot lower triangle for <code>corPlot</code>
</li>
<li>make sure date class is POSIXct, POSIXt in <code>importAURN</code>
</li>
<li>fix problem in <code>importMeta</code> for AURN - change in database source format</li>
<li>fix <code>pollutionRose</code> plot warning</li>
<li>fix NMB in <code>modStats</code>
</li>
<li>fix bug in <code>timeAverage</code> where estimating the time interval in input data could be unreliable due to low data availability</li>
<li>fix time expansion bug in <code>timeAverage</code>
</li>
<li>add new <code>type</code> “yearseason” (or “seasonyear”). This will split data by every year / season combination, making sure the seasons are contiguous. For example, in winter in the northern hemisphere December 2010 will be considered part of winter 2011, rather than winter 2010. Thanks to Ralf Weisse for the suggestion.</li>
<li>fix download issues with <code>importAURN</code> and <code>importMeta</code> when users are within an organisational network. Problems likely due to move from http to https and SSL Certificates.</li>
<li>fix <code>TheilSen</code> bug when two types.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.8-2" id="openair-18-2">openair 1.8-2<a class="anchor" aria-label="anchor" href="#openair-18-2"></a></h2><p class="text-muted">CRAN release: 2016-04-25</p>
<ul><li>fixes for new version of <code>dplyr</code>
</li>
<li>adjust legends in <code>conditionalEval</code> to avoid plot error.</li>
<li>fix problem on linux and simplify <code>importAURN</code>
</li>
<li>update <code>importAURN</code> meta data in help function.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.8-0" id="openair-18-0">openair 1.8-0<a class="anchor" aria-label="anchor" href="#openair-18-0"></a></h2><p class="text-muted">CRAN release: 2016-03-24</p>
<ul><li>Allow <code>scatterPlot</code> to have control over plot symbol fill and colour (for symbols 21 to 25). Use <code>cols</code> and <code>fill</code> to control.</li>
<li>
<code>scatterPlot</code> can now fit more than one linear equation when there is a grouping variable</li>
<li>give message when using a users’ own <code>type</code> such as month, year etc.</li>
<li>fix ordering of bars on <code>timeProp</code>, remove <code>box.width</code> option</li>
<li>fix bug introduced in 1.7-4 that affected <code>windRose</code> bias correction (thanks to Eric Christensen)</li>
<li>Add option for <code>statistic = "r"</code> in <code>polarPlot</code> for comparing polar plot correlation surfaces between two pollutants using Gaussian kernel weighting.</li>
<li>fix bug in <code>type = "daylight"</code> when time zone not UTC.</li>
<li>remove <code>cutDaylight</code> as a separate function (<code>cutData</code> works for everything)</li>
<li>add <code>w.shift</code> option to <code>calendarPlot</code> to control the first day of the week and subsequent order (thanks to Giovanni Bonafè)</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.7.3" id="openair-173">openair 1.7.3<a class="anchor" aria-label="anchor" href="#openair-173"></a></h2>
<ul><li>Fix regression in <code>timeAverage</code> when expanding time series</li>
<li>Remove <code>dplyr</code> warnings in <code>TheilSen</code>
</li>
<li>Keep season order correct when averaging time is season and <code>type = "season"</code> in <code>TheilSen</code> and <code>smoothTrend</code>
</li>
<li>add origin marker to <code>trajCluster</code>
</li>
<li>better date padding when &gt;1 type</li>
<li>fix some <code>dplyr</code> bugs where some functions would fail with two types</li>
<li>return data frame of cluster information in <code>trajCluster</code>
</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.7" id="openair-17">openair 1.7<a class="anchor" aria-label="anchor" href="#openair-17"></a></h2><p class="text-muted">CRAN release: 2016-02-22</p>
<ul><li>Allow <code>linearRelation</code> to use any arbitrary time averaging period.</li>
<li>don’t add line to monthly plot in <code>timeVariation</code> when group = “season”</li>
<li>fix <code>NA</code> factors in <code>trajPlot</code>
</li>
<li>make border black when using maps for improved clarity</li>
<li>fix bug in <code>trajPlot</code> that sometimes failed to print map when grouping</li>
<li>add percentage total trajectories for <code>trajCluster</code> and option <code>by.type</code>
</li>
<li>don’t touch existing date-based types in <code>cutData</code>
</li>
<li>refine date checks</li>
<li>speed up <code>timeAverage</code>
</li>
<li>new dependent package <code>lubridate</code> for easier / faster date-time manipulations</li>
<li>fix slow <code>timeProp</code> (lattice <code>panel.barchart</code> is very slow)</li>
<li>only remove missing wind speed in <code>windRose</code> (wd can be <code>NA</code> and ws zero i.e. calm)</li>
<li>correct order of labels in <code>timeVariation</code> when <code>difference = TRUE</code> for some factor levels (were in alphabetical)</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.6.6" id="openair-166">openair 1.6.6<a class="anchor" aria-label="anchor" href="#openair-166"></a></h2>
<ul><li>Not all labels shown if &gt;25 in <code>trendLevel</code>; make sure strip is white</li>
<li>correct bug in <code>timeVariation</code> (<code>vector.ws</code> did not work)</li>
<li>fix some cases where background strip was not white</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.6.5" id="openair-165">openair 1.6.5<a class="anchor" aria-label="anchor" href="#openair-165"></a></h2><p class="text-muted">CRAN release: 2015-11-04</p>
<ul><li>changes to fix examples not run during the R CMD check</li>
<li>make <code>TaylorDiagram</code> more flexible when using two groups and the second is date-based</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.6.4" id="openair-164">openair 1.6.4<a class="anchor" aria-label="anchor" href="#openair-164"></a></h2><p class="text-muted">CRAN release: 2015-10-23</p>
<ul><li>fix bug in <code>GoogleMapsPlot</code> when pollutant not given</li>
<li>don’t clutter up working directory with <code>GoogleMapsPlot</code>; write to temporary file instead</li>
<li>fix bug when trying to access multiple sites with no data in</li>
<li>fix problem with multiple sites in <code>aqStats</code>
</li>
<li>
<code>TheilSen</code> should always give trend in units/year (would use xlab if supplied)</li>
<li>fix <code>cutData</code> bug where quantile cuts are made</li>
<li>don’t remove missing data in <code>scatterPlot</code> so that factors with no data still shown</li>
<li>
<code>TheilSen</code> should always give trend in units/year (would use xlab if supplied)</li>
<li>New option <code>slope.text</code> in <code>TheilSen</code> to allow users to add their own text i.e. not the default “units/year”</li>
<li>refine check on DST</li>
<li>Always report data capture % in <code>aqStats</code>
</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.6" id="openair-16">openair 1.6<a class="anchor" aria-label="anchor" href="#openair-16"></a></h2><p class="text-muted">CRAN release: 2015-07-23</p>
<ul><li>Don’t force integer results for <code>importAURN</code>
</li>
<li>fix bug with <code>period = "months"</code> in <code>summaryPlot</code>
</li>
<li>allow linear fit with <code>method = "hexbin"</code> in <code>scatterPlot</code>
</li>
<li>allow users to define own map limits in trajectory functions and better scaled map grids</li>
<li>fix renaming bug in <code>airbaseStats</code>
</li>
<li>bug in <code>windRose</code> when all calm</li>
<li>date bug fixes in <code>scatterPlot</code>
</li>
<li>add option <code>windflow</code> to <code>scatterPlot</code> and <code>timePlot</code> to allow wind flow plots</li>
<li>suppress harmless warnings in <code>smoothTrend</code>
</li>
<li>fix bug in some functions when type more than one</li>
<li>add support in <code>pollutionRose</code> for option <code>normalise</code> to show probability by wind sector (0 to 1).</li>
<li>
<code>timeAverage</code> now has an option <code>type</code> similar to other functions. A common use would be to apply <code>timeAverage</code> to a data frame with multiple sites where there is a column representing site name e.g. <code>type = "site"</code>.</li>
<li>Add receptor location for trajectory plots <code>trajLevel</code> and <code>trajPlot</code>.</li>
<li>Add an option <code>trend</code> to <code>TheilSen</code> to control how the trend lines are drawn.</li>
<li>fix bug in <code>calendarPlot</code> when partial month available</li>
<li>fix bug in <code>calendarPlot</code>, don’t need to cut data first</li>
<li>add <code>npoints</code> option to <code>trajPlot</code> to control time spacing of dots shown on back trajectories</li>
<li>don’t include missing data when <code>statistic = "frequency</code> in <code>timeAverage</code>
</li>
<li>fix bug in <code>timeProp</code> due to point above</li>
<li>fix bug in <code>timeVariation</code> with <code>type = "season"</code> when space in pollutant name</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.5" id="openair-15">openair 1.5<a class="anchor" aria-label="anchor" href="#openair-15"></a></h2><p class="text-muted">CRAN release: 2015-04-14</p>
<ul><li>Add ‘days’ as a time unit to <code>summaryPlot</code> - useful for shorter time series</li>
<li>Initial changes to use <code>dplyr</code> to speed up some of the code e.g. <code>timeAverage</code>
</li>
<li>Automate <code>x.inc</code> and <code>y.inc</code> if not supplied by user in <code>scatterPlot</code>
</li>
<li>Fix regression in <code>trajLevel</code> frequency calculation</li>
<li>Fix a few problems with trajectory plotting - some methods would fail given recent updates</li>
<li>Make trajectory gridded analysis faster</li>
<li>Fix bug in <code>importMeta</code> introduced since using <code>dplyr</code>
</li>
<li>Add <code>angle.scale</code> to <code>windRose</code> to control placement of radial scale (helps to avoid clash with wind rose paddles)</li>
<li>Fix bug in <code>timePlot</code> when <code>avg.time</code> given (regression)</li>
<li>Allow <code>TaylorDiagram</code> to have <code>group</code> of length two. This will show all group combinations but will only differentiate them by colour/symbol according to the first grouping variable.</li>
<li>
<code>timeVariation</code> can now take a <code>ylim</code> list to control the y-limits on each individual plot</li>
<li>For trajectory plotting allow <code>map.res</code> to be “state” to show the US States.</li>
<li>Fix bug in <code>importKCL</code> when date was not at beginning of the year</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.1-2" id="in-openair-11-2">in openair 1.1-2<a class="anchor" aria-label="anchor" href="#in-openair-11-2"></a></h2>
<ul><li>Fix regression for openair methods e.g. affected plot method for <code>timeVariation</code> subsets</li>
<li>Check data are numeric before applying running mean (would crash R if not)</li>
<li>Begin transition to Github, more details to follow</li>
<li>Add option dist to <code>scatterPlot</code> for surface modelling</li>
<li>Sort out package dependencies etc. to make maps easier to load</li>
<li>Add fontsize option to all openair plot functions</li>
<li>Change contact details, fix citation problem</li>
<li>Make sure <code>importKCL</code> is file of full year</li>
<li>Fix warning messages in <code>aqStats</code> when multiple pollutants selected</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.1" id="openair-11">openair 1.1<a class="anchor" aria-label="anchor" href="#openair-11"></a></h2>
<ul><li>Add ref.y option to <code>timeVariation</code> for y references line(s)</li>
<li>Fix type = “wd” labelling to <code>corPlot</code>
</li>
<li>Refine airbaseStats to include site type and city by default</li>
<li>Make trendLevel colour scaling consistent with other functions and allow missing data to be shown in different colour</li>
<li>Allow categorical scales in trendLevel</li>
<li>Fix type = ‘season’ in <code>trajLevel</code> (winter period not properly calculated)</li>
<li>Allow multiple reference lines to be added to <code>timePlot</code>, <code>scatterPlot</code>, <code>timeVariation</code> and add to <code>smoothTrend</code> together with full control of their properties. Note - ref.x and ref.y must now be lists; see help file for details.</li>
<li>Don’t open graphics window in aqStats</li>
<li>Add more flexibility to <code>timeAverage</code> for irregular time intervals</li>
<li>Add 12-hour interval points on back trajectory lines</li>
<li>Fix bug in <code>percentileRose</code> with stat = “cpf” and non-default type (now uses single percentile based on all data, not each panel)</li>
<li>Check if date is in POSIXt format and throw error if TRUE</li>
<li>Improve date checks in selectByDate</li>
<li>Add dendrogram option to <code>corPlot</code> (thanks to James Durant for the suggestion)</li>
<li>Remove strip in <code>corPlot</code> when type = “default”</li>
<li>Remove statistic description in <code>pollutionRose</code> when annotate = FALSE.</li>
<li>Fix colour scaling bug in <code>scatterPlot</code>/<code>trajPlot</code> when user limits supplied</li>
<li>Check period = “years” or “months” in <code>summaryPlot</code>; some users supplied “year” resulting in incorrect statistics</li>
<li>Give mean and percent calm in <code>pollutionRose</code> when statistic = “prop.mean” (was erroneously percentage)</li>
<li>getMet function for downloading Hysplit met files in manual did not download as binary files; now corrected</li>
<li>Add name.pol argument to <code>smoothTrend</code> for more control over names used for plotting</li>
<li>Show first few dates when import fails to apply correct date format (helps to provide a clue as to actual date format)</li>
<li>Updates to trajectory plots to allow for different map projections using the mapproj package (new dependency)</li>
<li>Fix trajectory frequency calculation - underestimated frequencies.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0-0" id="openair-10-0">openair 1.0-0<a class="anchor" aria-label="anchor" href="#openair-10-0"></a></h2>
<ul><li>Pass all arguments in <code>corPlot</code>
</li>
<li>Enhance <code>timeVariation</code> to consider median + quantiles through option ‘statistic’</li>
<li>Do not remove NA results from modStats</li>
<li>Better scaling in polarCluster; consistent with <code>polarPlot</code>
</li>
<li>Fix <code>importKCL</code> where dates were filled if two non contiguous years were chosen</li>
<li>Refine scaling of ws in <code>polarPlot</code> when upper is set</li>
<li>Fix bug when type = “weekday” but not all days of the week are present</li>
<li>Add annotate option to TaylorDiagram</li>
<li>Allow modStat statistics to be chosen by user and add Index of Agreement</li>
<li>Needs to be &gt;24 months to deseason in <code>smoothTrend</code>/<code>TheilSen</code> (was &gt;=)</li>
<li>Refine names returned by importADMS when used with .pst file</li>
<li>Fix trajectory code in appendix D in the manual (some function arguments were not passed)</li>
<li>Better user defined limits scaling in <code>polarPlot</code>, <code>scatterPlot</code>, polarAnnulus when limits within data range</li>
<li>Clarify time zone for importing data to openair and checking (see manual for details)</li>
<li>Initial versions of functions to import EEA airbase data - see newsletter/manual for details</li>
<li>Better treatment of daylight saving time in cutData, <code>timeVariation</code> and polarAnnulus (allow any local time zone to be used; was just GMT/BST before)</li>
<li>Remove existing date-based columns in cutData to ensure date is used instead</li>
<li>Allow users to shade/not shade alternate years in <code>smoothTrend</code> and <code>TheilSen</code>
</li>
<li>Do not smooth <code>percentileRose</code> by wind direction by default.</li>
<li>Add option ‘wd’ to <code>percentileRose</code>
</li>
<li>Fix <code>trajPlot</code> bug when trajectory data was not at 3-hour intervals</li>
<li>Return data and smooth fit information in <code>smoothTrend</code>
</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.9-0" id="openair-09-0">openair 0.9-0<a class="anchor" aria-label="anchor" href="#openair-09-0"></a></h2><p class="text-muted">CRAN release: 2013-11-12</p>
<ul><li>Fix bug introduced in 0.8-0 for <code>scatterPlot</code> surfaces</li>
<li>Add statistic and percentile option to polarAnnulus; allow Conditional Probability Functions</li>
<li>Allow percentile intervals to be considered in <code>polarPlot</code> when statistic = “cpf”</li>
<li>Correct calculation of AOT40 in aqStats to take account of daylight hours and growing season (Apr. to Sep.). Can use latitude/longitude, if supplied</li>
<li>Fix bug in aqStats when non predefined pollutant used</li>
<li>Allow log10 factor of 2 lines in <code>scatterPlot</code> when x and/or y are on a log scale</li>
<li>Allow users to supply own transform/inverse functions to hexbin</li>
<li>Don’t try and pad-out missing data in rollingMean when returning results</li>
<li>Make latticeExtra a ‘depends’</li>
<li>Don’t copy-down data by default in <code>timeAverage</code> when requested averaging time is &lt; original. Better handling when ‘site’ is present</li>
<li>Update AURN help file site information; add site type</li>
<li>Show where data removed when min.bin &gt; 1 for <code>polarPlot</code>
</li>
<li>Add ‘trim’ value to percentiles in <code>polarPlot</code> to extract more source information.</li>
<li>Add ‘weights’ argument to <code>polarPlot</code> to down-weight bins with few data points - alternative to min.bin</li>
<li>Use more wd sectors for surface modelling when wd is not already rounded to 10 degree intervals in <code>polarPlot</code>
</li>
<li>Fix bug in <code>timePlot</code> when pch supplied and group = TRUE.</li>
<li>Add Air Quality Standard for O3 in aqStats (days &gt;120 ug/m3) not to be exceeded more than 10 days a year.</li>
<li>Add max.freq option to <code>windRose</code>/<code>pollutionRose</code> to control extent of radial limits</li>
<li>Add map.res option to <code>trajPlot</code> and <code>trajLevel</code> and make default lower resolution. Make default pollutant ‘height’ (always present)</li>
<li>Add Oslo and Rotterdam to trajectory database for 2010-2012</li>
<li>Better limits control on <code>calendarPlot</code>, use first year if not supplied, add option month to allow only selected month(s)</li>
<li>Fix bug when type = “wd” and some are missing (remove them)</li>
<li>Don’t open up graphic window in <code>timeAverage</code>
</li>
<li>Fix indexing problem in polarCluster which sometimes caused the function to trip up</li>
<li>Only plot full length trajectories in <code>trajPlot</code>
</li>
<li>Allow smoothing parameter k to be used when smooth = TRUE for more control in <code>scatterPlot</code>
</li>
<li>Add a bias correction to <code>windRose</code> (thanks to Philippe Barneoud from Environment Canada for pointing out the need and solution)</li>
<li>Better treatment of <code>pollutionRose</code> when comparing two met datasets when ws bias is zero</li>
<li>Fix conditionalEval to use COE, not IOA and other minor changes</li>
<li>Allow method = “density” in <code>trajLevel</code>
</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.8-0" id="openair-08-0">openair 0.8-0<a class="anchor" aria-label="anchor" href="#openair-08-0"></a></h2><p class="text-muted">CRAN release: 2013-02-13</p>
<ul><li>make sure missing dates are plotted properly in <code>scatterPlot</code>
</li>
<li>fix regression in <code>corPlot</code> - main did not work</li>
<li>remove time zone options in import - users must supply data in GMT (UTC). Too many problems introduced due to daylight saving time</li>
<li>Use Legates and McCabe Coefficient of Efficiency in modStats in place of the Index of Agreement - easier to interpret.</li>
<li>Allow type = “month” etc to be used in <code>timeVariation</code> (was variable clash). Allow more flexibility when group and type are used</li>
<li>Better handling of user-defined limits in <code>polarPlot</code> and <code>scatterPlot</code> (method = “level”)</li>
<li>Add optional mean line option to <code>percentileRose</code>.</li>
<li>Correct <code>pollutionRose</code> documentation about comparing 2 data sets (first subtracted from second)</li>
<li>Fix bug in <code>timeVariation</code> that showed extra NA level for certain groups/types</li>
<li>Fix scaling bug in polarCluster when there is negative data e.g. x = “temp”</li>
<li>Allow statistic = “median” in <code>trajLevel</code>
</li>
<li>NEW FUNCTION timeProp to plot time series by category as a bar chart</li>
<li>Fix <code>windRose</code> bug when wind direction name was not wd</li>
<li>Fix bug in <code>importAURN</code> when pollutant = “all” was specified</li>
<li>Allow minimum value of breaks in ws to be above minimum ws value, but warn.</li>
<li>Allow day to be numeric in selectByDate to select days of the month</li>
<li>Better base maps with trajectory plotting (filled and alpha transparency)</li>
<li>Fix <code>windRose</code> bug where all data are missing</li>
<li>Use higher resolution mapdata not maps package for trajectory plots</li>
<li>Allow method = “hexbin” in <code>trajLevel</code> for hexagonal binning of trajectory frequencies</li>
<li>Refine rollingMean to allow moving window to be aligned centre/center, left or right + better treatment of ends when data capture threshold used. Use option ‘width’ rather than ‘hours’ because non-hourly data can be considered.</li>
<li>Fix <code>pollutionRose</code> scaling issue, which sometimes missed the lower interval</li>
<li>Fix <code>timeAverage</code> data capture issue - was not always setting data to NA</li>
<li>Output clusters as C1, C2 etc. not 1, 2.</li>
<li>Use same labelling in <code>calendarPlot</code> as other functions (wrong month order in non-English locales)</li>
<li>Export dendogram in <code>corPlot</code> - see example in help file</li>
<li>Fix scaling bug in <code>polarPlot</code> when radial variable was negative and small</li>
<li>Update ‘mydata’ to set negative data to NA</li>
<li>Add method = CPF to percentile rose and <code>polarPlot</code>
</li>
<li>Update trajectory analysis to allow Potential Source Contribution Function (PSCF) and Concentration Weighted Trajectory (CWT) to be considered</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.7-0" id="openair-07-0">openair 0.7-0<a class="anchor" aria-label="anchor" href="#openair-07-0"></a></h2><p class="text-muted">CRAN release: 2012-09-19</p>
<ul><li>Allow more flexible layout when two or more pollutants are used with <code>polarPlot</code> and type is default</li>
<li>Fix colour scale problem for <code>windRose</code> when interval does not exist</li>
<li>Added ‘nativeRaster’ class handler for GoogleMapsPlots</li>
<li>(test) Fix for GoogleMapsPlot xlim, ylim</li>
<li>Do not remove missing data from <code>timeVariation</code>
</li>
<li>Fix bug in FAC2 in modStats when observations = 0 (exclude from calculation because indeterminate)</li>
<li>Fix bug in <code>windRose</code> for empty panels and panel labelling when data missing</li>
<li>New option start.day in cutData that affects most plots; allows users to set start day when type = “weekday”</li>
<li>Allow categorical scales in <code>calendarPlot</code>
</li>
<li>Allow two met data sets to be compared in <code>pollutionRose</code>
</li>
<li>Allow statistic = “percentile” to be used with <code>polarPlot</code>
</li>
<li>Allow ‘method’ to be passed to cor in <code>corPlot</code>
</li>
<li>Added more back trajectory locations.</li>
<li>Try harder to plot <code>polarPlot</code>s when there is insufficient data to calculate a smooth surface.</li>
<li>Rename some variables in <code>timeAverage</code> to avoid variable clash.</li>
<li>Add gridded frequency capability to <code>trajLevel</code>
</li>
<li>Fix bug in colour scaling in polarFreq when statistic = “stdev” (0 would not be plotted)</li>
<li>Fix bug in <code>summaryPlot</code>: type = “density” broken in recent versions</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.6-0" id="openair-06-0">openair 0.6-0<a class="anchor" aria-label="anchor" href="#openair-06-0"></a></h2><p class="text-muted">CRAN release: 2012-05-11</p>
<ul><li>Add y.relation option to <code>timePlot</code>
</li>
<li>Fix interpolation bug in calcFno2 and names in documentation.</li>
<li>Refine conditionalQuantile scales</li>
<li>Provide volatile and non-volatile components for FDMS PM10 and PM2.5 in <code>importKCL</code> - now consistent with <code>importAURN</code>
</li>
<li>NEW FUNCTION conditionalEval for model evaluation - allows other variable performance to be assessed.</li>
<li>Make lattice strips white by default for cleaner look on complicated plots</li>
<li>Complete re-write of import to simplify - changes are NOT backward compatible but will allow more developments</li>
<li>Allow line breaks in titles using to work with quickText
<ul><li>thanks to Karl</li>
</ul></li>
<li>Allow better annotation of <code>calendarPlot</code> - highlight values above/below a certain threshold.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.5-25" id="openair-05-25">openair 0.5-25<a class="anchor" aria-label="anchor" href="#openair-05-25"></a></h2><p class="text-muted">CRAN release: 2012-03-19</p>
<ul><li>Fix bug when type = “wd” - would add missing data to north sector</li>
<li>Add observed histogram to conditionalQuantile</li>
<li>Fix bug in <code>timeAverage</code> when ws was not available but wd was</li>
<li>Temporary fix to GoogleMapsPlot documentation due to new package version</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.5-23" id="openair-05-23">openair 0.5-23<a class="anchor" aria-label="anchor" href="#openair-05-23"></a></h2><p class="text-muted">CRAN release: 2012-03-05</p>
<ul><li>Fix bug in <code>windRose</code> when paddle = FALSE</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.5-22" id="openair-05-22">openair 0.5-22<a class="anchor" aria-label="anchor" href="#openair-05-22"></a></h2>
<ul><li>Fix scaling bug that could sometime affect <code>polarPlot</code> grid lines</li>
<li>Fix regression in <code>importKCL</code> that was introduced in 0.5-21</li>
<li>Make sure wd data are rounded to 10 degrees in polarFreq</li>
<li>Fix date padding issue in <code>smoothTrend</code> when type = “site”</li>
<li>
<code>windRose</code> now gives mean ws in each panel rather than count</li>
<li>add option date.format to <code>timePlot</code> for more control over date format on axis</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.5-21" id="openair-05-21">openair 0.5-21<a class="anchor" aria-label="anchor" href="#openair-05-21"></a></h2><p class="text-muted">CRAN release: 2012-02-22</p>
<ul><li>Use C++ code for rolling mean calcs. Much faster, more to follow</li>
<li>NEW function trajCluster to carry out cluster analysis on back trajectories</li>
<li>Simple model ranking available in modStats # Changes in openair 0.5-18 [2012-01-16]</li>
<li>Update trajectory files to 2011 and add Berlin, Paris</li>
<li>Add option seg to <code>pollutionRose</code> to control the width of the segments</li>
<li>Add option start.day to <code>timeVariation</code> to control the order of weekdays.</li>
<li>Fixed bug in polarAnnulus where 360 degree winds were absent.</li>
<li>Remove dependency on zoo and proto.</li>
<li>Allow <code>importAURN</code> to import new ws/wd from pre-calculated WRF data at AURN sites</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.5-17" id="openair-05-17">openair 0.5-17<a class="anchor" aria-label="anchor" href="#openair-05-17"></a></h2>
<ul><li>Update to [IN DEVELOPMENT] GoogleMapsPlot. (1 lat,lon default handling)</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.5-15" id="openair-05-15">openair 0.5-15<a class="anchor" aria-label="anchor" href="#openair-05-15"></a></h2>
<ul><li>Update imports etc.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.5-15" id="openair-05-15-1">openair 0.5-15<a class="anchor" aria-label="anchor" href="#openair-05-15-1"></a></h2>
<ul><li>Update to [IN DEVELOPMENT] GoogleMapsPlot.</li>
<li>Tidy up calcFno2 plotting.</li>
<li>Improve speed of <code>timeAverage</code> by removing date.pad.</li>
<li>Add vector averaging option to <code>timeAverage</code> for wind speed.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.5-14" id="openair-05-14">openair 0.5-14<a class="anchor" aria-label="anchor" href="#openair-05-14"></a></h2>
<ul><li><p>NEW FUNCTION polarCluster for undertaking k-means clustering of bivariate polar plots</p></li>
<li><p>Remove any considerations of time zones in selectByDate. If start and end are supplied, whole days based on Date format are used to select. Now accepts start/end in the form “YYYY-mm-dd” as well as UK format e.g. dd/mm/YYYY.</p></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.5-13" id="openair-05-13">openair 0.5-13<a class="anchor" aria-label="anchor" href="#openair-05-13"></a></h2>
<ul><li>Major update to <code>polarPlot</code> allowing variables other than “ws” to be plotted with wind direction.</li>
<li>Improve documentation for <code>polarPlot</code>/TaylorDiagram</li>
<li>Update openair citation information to Journal article</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.5-12" id="openair-05-12">openair 0.5-12<a class="anchor" aria-label="anchor" href="#openair-05-12"></a></h2>
<ul><li>do not clip <code>polarPlot</code> concentrations unless upper is supplied</li>
<li>new option ‘intervals’ for <code>percentileRose</code>
</li>
<li>add min.bin option to polarAnnulus</li>
<li>add Index of Agreement to modStats</li>
<li>new averaging time “season” for <code>timeAverage</code>
</li>
<li>better treatment of avg.time = “season” and type = “season” in <code>TheilSen</code> and <code>smoothTrend</code>
</li>
<li>use bootstrap methods to calculate 95% confidence intervals in the mean for <code>timeVariation</code>
</li>
<li>New option ‘difference’ in <code>timeVariation</code> to show difference between two variables with bootstrap 95% CI in the mean</li>
<li>Byte-compile package</li>
<li>Place key on right be default in <code>scatterPlot</code> to avoid clash with x or y axis labels.</li>
<li>Include all colour schemes defined in the RColorBrewer package</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.5-11" id="openair-05-11">openair 0.5-11<a class="anchor" aria-label="anchor" href="#openair-05-11"></a></h2><p class="text-muted">CRAN release: 2011-10-05</p>
<ul><li>update to <code>corPlot</code>, <code>scatterPlot</code>, <code>smoothTrend</code>, linearRelation, <code>percentileRose</code>, <code>trajPlot</code>, <code>trajLevel</code>, <code>timeVariation</code>, TaylorDiagram, <code>timePlot</code>, <code>summaryPlot</code> improved … handling</li>
<li>remove warnings when importing air pollution data</li>
<li>additional update to <code>corPlot</code> added pollutant option, and openair class output</li>
<li>tweak scaling on <code>percentileRose</code> deal with negative data</li>
<li>change MannKendall to use <code>TheilSen</code> for all estimates for consistency. May slightly affect some p estimates.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.5-10" id="openair-05-10">openair 0.5-10<a class="anchor" aria-label="anchor" href="#openair-05-10"></a></h2>
<ul><li>update to <code>calendarPlot</code>, kernelExceed, MannKendall and conditionalQuantile improved … handling</li>
<li><div class="sourceCode" id="cb1"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a>  minor update to GoogleMapsPlot</span></code></pre></div></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.5-9" id="openair-05-9">openair 0.5-9<a class="anchor" aria-label="anchor" href="#openair-05-9"></a></h2>
<ul><li>allow model performance change to be considered in TaylorDiagram</li>
<li>update to <code>windRose</code> and <code>pollutionRose</code> stat related annotation</li>
<li>update to <code>polarPlot</code>, ploarFreq and polarAnnulus improved … handling</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.5-8" id="openair-05-8">openair 0.5-8<a class="anchor" aria-label="anchor" href="#openair-05-8"></a></h2>
<ul><li>NEW FUNCTION <code>importMeta</code> to import site meta data from air pollution networks</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.5-7" id="openair-05-7">openair 0.5-7<a class="anchor" aria-label="anchor" href="#openair-05-7"></a></h2>
<ul><li>update to trendLevel: improved … handling</li>
<li>update to <code>windRose</code>/<code>pollutionRose</code>: added statistic option “abs.count”; improved scaling of segment widths; improved … handling</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.5-6" id="openair-05-6">openair 0.5-6<a class="anchor" aria-label="anchor" href="#openair-05-6"></a></h2>
<ul><li>NEW FUNCTIONS importTraj, <code>trajPlot</code>, <code>trajLevel</code> for importing and plotting pre-defined HYSPLIT back trajectories. These functions are under active development and are for testing purposes only!</li>
<li>Fix error in % upper/lower uncertainty intervals for MannKendall</li>
<li>More control over trend information placement for MannKendall
<ul><li>arguments text.col, lab.frac (for vertical position) and lab.cex (for font size)</li>
</ul></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.5-4" id="openair-05-4">openair 0.5-4<a class="anchor" aria-label="anchor" href="#openair-05-4"></a></h2>
<ul><li>Use roxygen2 for package documentation and future maintainability</li>
<li>Allow splitByDate to handle multiple sites and output a new column controlled by argument ‘name’</li>
<li>More options for MannKendall: control of colour and variable x-axis scales</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.5-0" id="openair-05-0">openair 0.5-0<a class="anchor" aria-label="anchor" href="#openair-05-0"></a></h2>
<ul><li>NEW FUNCTION <code>corPlot</code> for correlation matrices</li>
<li>add sep argument to import</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.4-23" id="openair-04-23">openair 0.4-23<a class="anchor" aria-label="anchor" href="#openair-04-23"></a></h2><p class="text-muted">CRAN release: 2011-07-26</p>
<ul><li>enhance ‘normalise’ option in <code>timePlot</code>
</li>
<li>add annotate option to <code>windRose</code>/<code>pollutionRose</code>
</li>
<li>NEW FUNCTION TaylorDiagram for model evaluation.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.4-22" id="openair-04-22">openair 0.4-22<a class="anchor" aria-label="anchor" href="#openair-04-22"></a></h2>
<ul><li>NOTE - use reshape2 in place of reshape for speed and reliability</li>
<li>allow more than one pollutant with <code>percentileRose</code>
</li>
<li>fixed title bug with <code>scatterPlot</code> - not shown for some methods</li>
<li>modified key handling on plots using drawOpenKey, so key = NULL or FALSE now removes colour key.</li>
<li>added method = “level” to <code>scatterPlot</code> for binning data with optional smoothing, plus other code clean-ups</li>
<li>fix bug in conditionalQuantile that labelled plots wrongly when site(s) has missing data</li>
<li>added ref.x and ref.y to <code>timePlot</code> to allow reference lines to be added</li>
<li>do not remove calm wind speed conditions in any functions where this is not necessary</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.4-21" id="openair-04-21">openair 0.4-21<a class="anchor" aria-label="anchor" href="#openair-04-21"></a></h2>
<ul><li>fixed bug in polarAnnulus that resulted in a failure to annotate the plot properly with period = “trend” and less than 1 year of data; improved smoothing default options used</li>
<li>new ‘statistic’ option to <code>pollutionRose</code> to show contribution to counts and contribution to the mean. The latter is useful for displaying those wind directions that make most contribution to the overall mean. Panel mean is also now shown.</li>
<li>small change to final example of re-shaping data in <code>importKCL</code>
</li>
<li>
<code>timeAverage</code> can now expand data to shorter time periods e.g. hourly to 15-minute. This makes it more flexible to combine data sets with differing averaging times. For example, daily mean particle data can be expanded to 1-hour means and combined with an hourly meteorological data set.</li>
<li>Fix treatment of calms in checkPrep, which affected cases with zero wind speeds in <code>timeAverage</code>
</li>
<li>Fix to vector averaging in <code>timeAverage</code> (did not include wind speed in calculations). For most data this will make very little difference, but will be more important for low wind speeds and/or variable wind directions.</li>
<li>allow type = ‘variable’ in <code>smoothTrend</code>
</li>
<li>Add avg.time to <code>smoothTrend</code> for “month” or “year” averages</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.4-20" id="openair-04-20">openair 0.4-20<a class="anchor" aria-label="anchor" href="#openair-04-20"></a></h2>
<ul><li>Do not remove calms in <code>timeAverage</code>
</li>
<li>NEW FUNCTION importSAQN to import data from the Scottish Air Quality Network</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.4-19" id="openair-04-19">openair 0.4-19<a class="anchor" aria-label="anchor" href="#openair-04-19"></a></h2>
<ul><li>improved import date.name/time.name handling of spaces</li>
<li>Improved scaling for polarFreq</li>
<li>
<code>scatterPlot</code> type = “wd” labels aligned</li>
<li>Added option “statistic” to <code>polarPlot</code>, which can now consider “mean”, “median”, “max” (maximum), “frequency”. “stdev” (standard deviation) or “weighted.mean” in a similar way to polarFreq</li>
<li>Fixed bad.24 and international tz bugs in import</li>
<li>updated import/import.2</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.4-18" id="openair-04-18">openair 0.4-18<a class="anchor" aria-label="anchor" href="#openair-04-18"></a></h2>
<ul><li>Better handling of missing data in <code>smoothTrend</code>/MannKendall; particularly when there are multiple sites</li>
<li>Do not run checkPrep on selectByDate because it removes calms</li>
<li>Fixed scaling bug in polarFreq when ws.int != 1</li>
<li>use avg.time in calcPercentile instead of ‘period’ to ensure consistency with other functions (<code>timePlot</code> would fail with percentiles)</li>
<li>return NA in aqStats when no data present; previously it tried to calculate quantities, returning -Inf etc</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.4-17" id="openair-04-17">openair 0.4-17<a class="anchor" aria-label="anchor" href="#openair-04-17"></a></h2><p class="text-muted">CRAN release: 2011-04-24</p>
<ul><li>use readRDS and not .readRDS (caused failure on R Dev)</li>
<li>openair now depends on &gt;=R2.13.0</li>
<li>NEW FUNCTION sqStats to calculate common and pollutant-specific air quality statistics by year and site.</li>
<li>Changed option data.capture in rollingMean to data.thresh to be consistent with other functions.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.4-16" id="openair-04-16">openair 0.4-16<a class="anchor" aria-label="anchor" href="#openair-04-16"></a></h2>
<ul><li>Fixed bugs in cutData when a partial year was used with type = “month”. Also affected type = “season” and “weekday”. The plots were labelled in the wrong order.</li>
<li>Ensure that missing wind sectors are skipped in type = “wd” for <code>smoothTrend</code>, MannKendall, <code>timePlot</code> and <code>scatterPlot</code>
</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.4-15" id="openair-04-15">openair 0.4-15<a class="anchor" aria-label="anchor" href="#openair-04-15"></a></h2><p class="text-muted">CRAN release: 2011-04-12</p>
<ul><li>Preparation for CRAN release</li>
<li>removed some restrictions on type/period combinations in polarAnnulus</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.4-14" id="openair-04-14">openair 0.4-14<a class="anchor" aria-label="anchor" href="#openair-04-14"></a></h2>
<ul><li>Added preliminary greyscale method to openColours and linked in strip background and other text and line colour control for standard openair plots.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.4-13" id="openair-04-13">openair 0.4-13<a class="anchor" aria-label="anchor" href="#openair-04-13"></a></h2>
<ul><li>Removed ad-hoc sites from <code>importKCL</code>, added site classification to the help file and ensured GMT is exported.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.4-12" id="openair-04-12">openair 0.4-12<a class="anchor" aria-label="anchor" href="#openair-04-12"></a></h2>
<ul><li>Added y.relation option to <code>smoothTrend</code> and MannKendall to allow flexible y-scales.</li>
<li>NEW FUNCTION ‘<code>percentileRose</code>’ for flexible plotting of percentiles by wind direction</li>
<li>NEW FUNCTION <code>selectRunning</code> for selecting run lengths of a numeric variable above a certain threshold.</li>
<li>Modified plot layout in <code>polarPlot</code> to maximise plotting area</li>
<li>Initial fixes to functions affected by time zone settings</li>
<li>polarFreq now has consistent annotation cf. <code>windRose</code> and <code>percentileRose</code>; new option grid.line to control radial axes.</li>
<li>Fixed couple of minor auto.text bugs in <code>summaryPlot</code> and <code>timePlot</code>
</li>
<li>Removed dependency of date for polar functions where time-based types are not required.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.4-11" id="openair-04-11">openair 0.4-11<a class="anchor" aria-label="anchor" href="#openair-04-11"></a></h2>
<ul><li>More consistent use of strips in default plot (remove them)</li>
<li>Add percentage units to <code>windRose</code> and <code>pollutionRose</code> on radial scale</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.4-10" id="openair-04-10">openair 0.4-10<a class="anchor" aria-label="anchor" href="#openair-04-10"></a></h2><p class="text-muted">CRAN release: 2011-03-08</p>
<ul><li>Fixed <code>calendarPlot</code> main/quickText handling.</li>
<li>Fixed <code>calendarPlot</code> first day of month error.</li>
<li>Fixed <code>summaryPlot</code> site ordering when more than one site.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.4-9" id="openair-04-9">openair 0.4-9<a class="anchor" aria-label="anchor" href="#openair-04-9"></a></h2>
<ul><li>Added new options to <code>scatterPlot</code> (plot.type, lwd, and lty) making it possible to add points and/or lines</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.4-8" id="openair-04-8">openair 0.4-8<a class="anchor" aria-label="anchor" href="#openair-04-8"></a></h2>
<ul><li>Added new cutData type option ‘daylight’, enabled using new function cutDaylight.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.4-7" id="openair-04-7">openair 0.4-7<a class="anchor" aria-label="anchor" href="#openair-04-7"></a></h2><p class="text-muted">CRAN release: 2011-02-17</p>
<ul><li><div class="sourceCode" id="cb2"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a>Added new <span class="cf">function</span> conditionalQuantile <span class="cf">for</span> model</span>
<span id="cb2-2"><a href="#cb2-2" tabindex="-1"></a>evaluation purposes.</span></code></pre></div></li>
<li><div class="sourceCode" id="cb3"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a>Fixed <span class="st">`</span><span class="at">importAURN</span><span class="st">`</span> to account <span class="cf">for</span> a change <span class="cf">in</span> web domain</span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a>address at AEA.</span></code></pre></div></li>
</ul></div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by David Carslaw, Jack Davison, Karl Ropkins.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

