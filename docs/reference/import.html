<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="This function is mostly used to simplify the importing of csv and
text file in openair. In particular it helps to get the
date or date/time into the correct format. The file can contain
either a date or date/time in a single column or a date in one
column and time in another."><title>Generic data import for openair — import • openair</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.1.0/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.1.0/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Generic data import for openair — import"><meta property="og:description" content="This function is mostly used to simplify the importing of csv and
text file in openair. In particular it helps to get the
date or date/time into the correct format. The file can contain
either a date or date/time in a single column or a date in one
column and time in another."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-default navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">openair</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">2.9-0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Functions</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">News</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/davidcarslaw/openair">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Generic data import for openair</h1>
      <small class="dont-index">Source: <a href="https://github.com/davidcarslaw/openair/blob/HEAD/R/import.R" class="external-link"><code>R/import.R</code></a></small>
      <div class="d-none name"><code>import.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function is mostly used to simplify the importing of csv and
text file in <code>openair</code>. In particular it helps to get the
date or date/time into the correct format. The file can contain
either a date or date/time in a single column or a date in one
column and time in another.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">import</span><span class="op">(</span>
  file <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/file.choose.html" class="external-link">file.choose</a></span><span class="op">(</span><span class="op">)</span>,
  file.type <span class="op">=</span> <span class="st">"csv"</span>,
  sep <span class="op">=</span> <span class="st">","</span>,
  header.at <span class="op">=</span> <span class="fl">1</span>,
  data.at <span class="op">=</span> <span class="fl">2</span>,
  date <span class="op">=</span> <span class="st">"date"</span>,
  date.format <span class="op">=</span> <span class="st">"%d/%m/%Y %H:%M"</span>,
  time <span class="op">=</span> <span class="cn">NULL</span>,
  time.format <span class="op">=</span> <span class="cn">NULL</span>,
  tzone <span class="op">=</span> <span class="st">"GMT"</span>,
  na.strings <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">""</span>, <span class="st">"NA"</span><span class="op">)</span>,
  quote <span class="op">=</span> <span class="st">"\""</span>,
  ws <span class="op">=</span> <span class="cn">NULL</span>,
  wd <span class="op">=</span> <span class="cn">NULL</span>,
  correct.time <span class="op">=</span> <span class="cn">NULL</span>,
  <span class="va">...</span>
<span class="op">)</span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>file</dt>
<dd><p>The name of the file to be imported. Default, <code>file =
file.choose()</code>, opens browser. Alternatively, the use of
<code>read.table</code> (in <code>utils</code>) also allows this to be a character
vector of a file path, connection or url.</p></dd>
<dt>file.type</dt>
<dd><p>The file format, defaults to common ‘csv’ (comma
delimited) format, but also allows ‘txt’ (tab delimited).</p></dd>
<dt>sep</dt>
<dd><p>Allows user to specify a delimiter if not ‘,’ (csv) or
TAB (txt). For example ‘;’ is sometimes used to delineate separate
columns.</p></dd>
<dt>header.at</dt>
<dd><p>The file row holding header information or <code>NULL</code> if
no header to be used.</p></dd>
<dt>data.at</dt>
<dd><p>The file row to start reading data from. When generating the
data frame, the function will ignore all information before this row, and
attempt to include all data from this row onwards.</p></dd>
<dt>date</dt>
<dd><p>Name of the field containing the date. This can be a
date e.g. 10/12/2012 or a date-time format e.g. 10/12/2012 01:00.</p></dd>
<dt>date.format</dt>
<dd><p>The format of the date. This is given in ‘R’
format according to <code>strptime</code>. For example, a date format
such as 1/11/2000 12:00 (day/month/year hour:minutes) is given the
format “%d/%m/%Y %H:%M”. See examples below and <code>strptime</code>
for more details.</p></dd>
<dt>time</dt>
<dd><p>The name of the column containing a time --- if there
is one. This is used when a time is given in a separate column and
<code>date</code> contains no information about time.</p></dd>
<dt>time.format</dt>
<dd><p>If there is a column for <code>time</code> then the
time format must be supplied. Common examples include “%H:%M”
(like 07:00) or an integer giving the hour, in which case the
format is “%H”. Again, see examples below.</p></dd>
<dt>tzone</dt>
<dd><p>The time zone for the data. In order to avoid the
complexities of DST (daylight savings time), openair assumes the
data are in GMT (UTC) or a constant offset from GMT. Users can set
a positive or negative offset in hours from GMT. For example, to
set the time zone of the data to the time zone in New York (EST, 5
hours behind GMT) set <code>tzone = "Etc/GMT+5"</code>. To set the time
zone of the data to Central European Time (CET, 1 hour ahead of
GMT) set <code>tzone = "Etc/GMT-1"</code>. <em>Note that the positive
and negative offsets are opposite to what most users expect.</em></p></dd>
<dt>na.strings</dt>
<dd><p>Strings of any terms that are to be interpreted
as missing (NA). For example, this might be “-999”, or
“n/a” and can be of several items.</p></dd>
<dt>quote</dt>
<dd><p>String of characters (or character equivalents) the
imported file may use to represent a character field.</p></dd>
<dt>ws</dt>
<dd><p>Name of wind speed field if present if different from
“ws” e.g. <code>ws = "WSPD"</code>.</p></dd>
<dt>wd</dt>
<dd><p>Name of wind direction field if present if different
from “wd” e.g. <code>wd = "WDIR"</code>.</p></dd>
<dt>correct.time</dt>
<dd><p>Numerical correction (in seconds) for imported
date.  Default <code>NULL</code> turns this option off. This can be useful if
the hour is represented as 1 to 24 (rather than 0 to 23 assumed by
R). In which case <code>correct.time = -3600</code> will correct the
hour.</p></dd>
<dt>...</dt>
<dd><p>Other arguments passed to <code>read.table</code>.</p></dd>
</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A data frame formatted for openair use.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The function uses <code><a href="https://rdrr.io/r/base/strptime.html" class="external-link">strptime</a></code> to parse dates and
times. Users should consider the examples for use of these
formats.</p>
<p>The function can either deal with combined date-time formats
e.g. 10/12/1999 23:00 or with two separate columns that deal with
date and time. Often there is a column for the date and another
for hour. For the latter, the option <code>time.format = "%H"</code>
should be supplied. Note that R considers hours 0 to 23. However,
if hours 1 to 24 are detected <code>import</code> will correct the hours
accordingly.</p>
<p><code>import</code> will also ensure wind speed and wind direction are
correctly labelled (i.e. "ws", "wd") if <code>ws</code> or <code>wd</code> are
given.</p>
<p>Note that it is assumed that the input data are in GMT (UTC)
format and in particular there is no consideration of daylight
saving time i.e. where in the input data set an hour is missing in
spring and duplicated in autumn.</p>
<p>Examples of use are given in the openair manual.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>Dedicated import functions available for selected file types, e.g.
  : <code><a href="importAURN.html">importAURN</a></code>, <code><a href="importAURNCsv.html">importAURNCsv</a></code>,
  <code><a href="importKCL.html">importKCL</a></code>, <code><a href="importADMS.html">importADMS</a></code>, etc.</p></div>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>David Carslaw</p>
    </div>

  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by David Carslaw, Karl Ropkins.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a>
2.0.2.</p>
</div>

    </footer></div>

  

  

  </body></html>

