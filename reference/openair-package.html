<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="
Tools to analyse, interpret and understand air pollution data. Data are typically regular time series and air quality measurement, meteorological data and dispersion model output can be analysed. The package is described in Carslaw and Ropkins (2012, doi:10.1016/j.envsoft.2011.09.008
) and subsequent papers."><title>openair: Tools for the Analysis of Air Pollution Data — openair-package • openair</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="openair: Tools for the Analysis of Air Pollution Data — openair-package"><meta property="og:description" content="
Tools to analyse, interpret and understand air pollution data. Data are typically regular time series and air quality measurement, meteorological data and dispersion model output can be analysed. The package is described in Carslaw and Ropkins (2012, doi:10.1016/j.envsoft.2011.09.008
) and subsequent papers."><meta property="og:image" content="https://davidcarslaw.github.io/openair/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-default navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">openair</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">2.13</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Functions</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">News</a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://bookdown.org/david_carslaw/openair/">Book</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/davidcarslaw/openair">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>openair: Tools for the Analysis of Air Pollution Data</h1>
      <small class="dont-index">Source: <a href="https://github.com/davidcarslaw/openair/blob/HEAD/R/openair-package.R" class="external-link"><code>R/openair-package.R</code></a></small>
      <div class="d-none name"><code>openair-package.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p></p>
<p>Tools to analyse, interpret and understand air pollution data. Data are typically regular time series and air quality measurement, meteorological data and dispersion model output can be analysed. The package is described in Carslaw and Ropkins (2012, <a href="https://doi.org/10.1016/j.envsoft.2011.09.008" class="external-link">doi:10.1016/j.envsoft.2011.09.008</a>
) and subsequent papers.</p>
    </div>


    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>This is a UK Natural Environment Research Council (NERC) funded
knowledge exchange project that aims to make available innovative analysis
tools for air pollution data; with additional support from Defra. The tools
have generally been developed to analyse data of hourly resolution (or at
least a regular time series) both for air pollution monitoring and
dispersion modelling. The availability of meteorological data at the same
time resolution greatly enhances the capabilities of these tools.</p>
<p><code>openair</code> contains collection of functions to analyse air pollution
data. Typically it is expected that data are hourly means, although most
functions consider other time periods. The principal aim to make available
analysis techniques that most users of air quality data and model output
would not normally have access to. The functions consist of those developed
by the authors and a growing number from other researchers.</p>
<p>The package also provides access to a wide range of data sources including
the UK Automatic Urban and Rural Network (AURN), networks run by King's
College London (e.g. the LAQN) and the Scottish Air Quality Network (SAQN).</p>
<p>The package has a number of requirements for input data and these are
discussed in the manual (available on the <code>openair</code> website at
<a href="https://davidcarslaw.github.io/openair/">https://davidcarslaw.github.io/openair/</a>). The key requirements are
that a date or date-time field must have the name <code>date' (and can be \code{Date} or \code{POSIXct} format), that wind speed is represented as </code>ws' and that wind direction is `wd'.</p>
<p>Most functions work in a very straightforward way, but offer many options
for finer control and perhaps more in-depth analysis.</p>
<p>The <code>openair</code> package depends on several other packages written by
other people to function properly.</p>
<p>To ensure that these other packages are available, they need to be
installed, and this requires a connection to the internet. Other packages
required come with the R base system.  If there are problems with the
automatic download of these packages, see
<a href="https://davidcarslaw.github.io/openair/">https://davidcarslaw.github.io/openair/</a> for more details.</p>
<p>NOTE: openair assumes that data are not expressed in local time where
'Daylight Saving Time' is used. All functions check that this is the case
and issue a warning if TRUE. It is recommended that data are expressed in
UTC/GMT (or a fixed offset from) to avoid potential problems with R and
<code>openair</code> functions. The <code>openair</code> manual provides advice on
these issues (available on the website).</p>
<p>To check to see if <code>openair</code> has been correctly installed, try some of
the examples below.</p>
    </div>
    <div class="section level2">
    <h2 id="the-openair-class">The <code>openair</code> class<a class="anchor" aria-label="anchor" href="#the-openair-class"></a></h2>
    


<p>As well as generating the plots themselves, <code>openair</code> plotting
functions also return an object of class ``openair''. The object includes
three main components:</p><ul><li><p><code>call</code>, the command used to generate the plot.</p></li>
<li><p><code>data</code>, the data frame of summarised information used to make the
plot.</p></li>
<li><p><code>plot</code>, the plot itself.</p></li>
</ul><p>If retained, e.g., using <code>output &lt;- polarPlot(mydata, "nox")</code>, this
output can be used to recover the data, reproduce or rework the original
plot or undertake further analysis.</p>
<p>An openair output can be manipulated using a number of generic operations,
including <code>print</code>, <code>plot</code> and <code>summary</code>. The examples below
show some examples of using an <code>openair</code> object.</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Most reference details are given under the specific functions.
The principal reference is below but users may also wish to cite the manual
(details for doing this are contained in the manual itself).</p>
<p>Carslaw, D.C. and K. Ropkins, (2012) openair --- an R package for air
quality data analysis.  Environmental Modelling &amp; Software. Volume 27-28,
52-61.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>See <a href="https://davidcarslaw.github.io/openair/">https://davidcarslaw.github.io/openair/</a> for up to date
information on the project, and the openair book
(<a href="https://bookdown.org/david_carslaw/openair/" class="external-link">https://bookdown.org/david_carslaw/openair/</a>) for thorough
documentation and examples.</p></div>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p><strong>Maintainer</strong>: David Carslaw <a href="mailto:david.carslaw@york.ac.uk">david.carslaw@york.ac.uk</a></p>
<p>Authors:</p><ul><li><p>Jack Davison <a href="mailto:jack.davison@ricardo.com">jack.davison@ricardo.com</a></p></li>
<li><p>Karl Ropkins <a href="mailto:K.Ropkins@its.leeds.ac.uk">K.Ropkins@its.leeds.ac.uk</a></p></li>
</ul></div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span><span class="co"># load package</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://davidcarslaw.github.io/openair/">openair</a></span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># summarise data in a compact way</span></span></span>
<span class="r-in"><span><span class="fu"><a href="summaryPlot.html">summaryPlot</a></span><span class="op">(</span><span class="va">mydata</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># traditional wind rose</span></span></span>
<span class="r-in"><span><span class="fu"><a href="windRose.html">windRose</a></span><span class="op">(</span><span class="va">mydata</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># polar plot</span></span></span>
<span class="r-in"><span><span class="va">polar_nox</span> <span class="op">&lt;-</span> <span class="fu"><a href="polarPlot.html">polarPlot</a></span><span class="op">(</span><span class="va">mydata</span>, pollutant <span class="op">=</span> <span class="st">"nox"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># see call</span></span></span>
<span class="r-in"><span><span class="va">polar_nox</span><span class="op">$</span><span class="va">call</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># get data</span></span></span>
<span class="r-in"><span><span class="va">polar_nox</span><span class="op">$</span><span class="va">data</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># could, e.g., re-plot in {ggplot2}</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">ggplot</span><span class="op">(</span><span class="va">polar_nox</span><span class="op">$</span><span class="va">data</span>, <span class="fu">aes</span><span class="op">(</span><span class="va">u</span>, <span class="va">v</span>, fill <span class="op">=</span> <span class="va">z</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> <span class="fu">geom_tile</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> <span class="fu">coord_equal</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span><span class="fu">scale_fill_gradientn</span><span class="op">(</span>colours <span class="op">=</span> <span class="fu">openair</span><span class="fu">::</span><span class="fu"><a href="openColours.html">openColours</a></span><span class="op">(</span><span class="op">)</span>, na.value <span class="op">=</span> <span class="cn">NA</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by David Carslaw, Jack Davison, Karl Ropkins.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

