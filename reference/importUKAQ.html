<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content='Functions for importing air pollution data from a range of UK networks
including the Automatic Urban and Rural Network (AURN), the individual
England (AQE), Scotland (SAQN), Wales (WAQN) and Northern Ireland (NI)
Networks, and many "locally managed" monitoring networks across England.
Files are imported from a remote server operated by Ricardo that provides air
quality data files as R data objects.'><title>Import data from the UK Air Pollution Networks — importUKAQ • openair</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Import data from the UK Air Pollution Networks — importUKAQ"><meta property="og:description" content='Functions for importing air pollution data from a range of UK networks
including the Automatic Urban and Rural Network (AURN), the individual
England (AQE), Scotland (SAQN), Wales (WAQN) and Northern Ireland (NI)
Networks, and many "locally managed" monitoring networks across England.
Files are imported from a remote server operated by Ricardo that provides air
quality data files as R data objects.'><meta property="og:image" content="https://davidcarslaw.github.io/openair/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-default navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">openair</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">2.17.0.9020</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Functions</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">News</a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://bookdown.org/david_carslaw/openair/">Book</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/davidcarslaw/openair">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Import data from the UK Air Pollution Networks</h1>
      <small class="dont-index">Source: <a href="https://github.com/davidcarslaw/openair/blob/HEAD/R/importUKAQ.R" class="external-link"><code>R/importUKAQ.R</code></a></small>
      <div class="d-none name"><code>importUKAQ.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Functions for importing air pollution data from a range of UK networks
including the Automatic Urban and Rural Network (AURN), the individual
England (AQE), Scotland (SAQN), Wales (WAQN) and Northern Ireland (NI)
Networks, and many "locally managed" monitoring networks across England.
Files are imported from a remote server operated by Ricardo that provides air
quality data files as R data objects.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">importUKAQ</span><span class="op">(</span></span>
<span>  site <span class="op">=</span> <span class="st">"my1"</span>,</span>
<span>  year <span class="op">=</span> <span class="fl">2022</span>,</span>
<span>  source <span class="op">=</span> <span class="st">"aurn"</span>,</span>
<span>  data_type <span class="op">=</span> <span class="st">"hourly"</span>,</span>
<span>  pollutant <span class="op">=</span> <span class="st">"all"</span>,</span>
<span>  hc <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  meta <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  meteo <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  ratified <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  to_narrow <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  progress <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>site</dt>
<dd><p>Site code of the site to import, e.g., <code>"my1"</code> is Marylebone Road.
Site codes can be discovered through the use of <code><a href="importMeta.html">importMeta()</a></code>. Several
sites can be imported at once. For example, <code>site = c("my1", "nott")</code>
imports both Marylebone Road and Nottingham. Sites from different networks
can be imported through also providing multiple <code>source</code>s.</p></dd>


<dt>year</dt>
<dd><p>Year(s) to import. To import a series of years use, e.g.,
<code>2000:2020</code>. To import several specific years use <code>year = c(2000, 2010, 2020)</code>.</p></dd>


<dt>source</dt>
<dd><p>The network to which the <code>site</code>(s) belong, defaulting to
<code>"aurn"</code>. Providing a single network will attempt to import all of the
given <code>site</code>s from the provided network. Alternatively, a vector of sources
can be provided of the same length as <code>site</code> to indicate which network each
<code>site</code> individually belongs. Available networks include:</p><ul><li><p><code>"aurn"</code>,  The UK Automatic Urban and Rural Network.</p></li>
<li><p><code>"aqe"</code>,  The Air Quality England Network.</p></li>
<li><p><code>"saqn"</code>,  The Scottish Air Quality Network.</p></li>
<li><p><code>"waqn"</code>,  The Welsh Air Quality Network.</p></li>
<li><p><code>"ni"</code>,  The Northern Ireland Air Quality Network.</p></li>
<li><p><code>"local"</code>,  Locally managed air quality networks in England.</p></li>
</ul></dd>


<dt>data_type</dt>
<dd><p>The type of data to be returned, defaulting to <code>"hourly"</code>
data. Alternative data types include:</p><ul><li><p><code>"daily"</code>: Daily average data.</p></li>
<li><p><code>"monthly"</code>: Monthly average data with data capture information for the whole network.</p></li>
<li><p><code>"annual"</code>: Annual average data with data capture information for the whole network.</p></li>
<li><p><code>"15_min"</code>: 15-minute average SO2 concentrations.</p></li>
<li><p><code>"8_hour"</code>: 8-hour rolling mean concentrations for O3 and CO.</p></li>
<li><p><code>"24_hour"</code>: 24-hour rolling mean concentrations for particulates.</p></li>
<li><p><code>"daily_max_8"</code>: Maximum daily rolling 8-hour maximum for O3 and CO.</p></li>
<li><p><code>"daqi"</code>: Daily Air Quality Index (DAQI). See
<a href="https://uk-air.defra.gov.uk/air-pollution/daqi?view=more-info" class="external-link">here</a> for
more details of how the index is defined. Note that this <code>data_type</code> is not
available for locally managed monitoring networks.</p></li>
</ul></dd>


<dt>pollutant</dt>
<dd><p>Pollutants to import. If omitted will import all pollutants
from a site. To import only NOx and NO2 for example use <code>pollutant =
  c("nox", "no2")</code>.</p></dd>


<dt>hc</dt>
<dd><p>Include hydrocarbon measurements in the imported data? Defaults to
<code>FALSE</code> as most users will not be interested in using hydrocarbon data.</p></dd>


<dt>meta</dt>
<dd><p>Append the site type, latitude and longitude of each selected
<code>site</code>? Defaults to <code>FALSE</code>.</p></dd>


<dt>meteo</dt>
<dd><p>Append modelled meteorological data, if available? Defaults to
<code>TRUE</code>, which will return wind speed (<code>ws</code>), wind direction (<code>wd</code>) and
ambient temperature (<code>air_temp</code>). The variables are calculated from using
the WRF model run by Ricardo Energy &amp; Environment and are available for
most but not all networks. Setting <code>meteo = FALSE</code> is useful if you have
other meteorological data to use in preference, for example from
<code>worldmet</code>.</p></dd>


<dt>ratified</dt>
<dd><p>Append <code>qc</code> column(s) to hourly data indicating whether each
species was ratified (i.e., quality-checked)?  Defaults to <code>FALSE</code>.</p></dd>


<dt>to_narrow</dt>
<dd><p>Return the data in a "narrow"/"long"/"tidy" format? By
default the returned data is "wide" and has a column for each
pollutant/variable. When <code>to_narrow = TRUE</code> the data are returned with a
column identifying the pollutant name and a column containing the
corresponding concentration/statistic. Defaults to <code>FALSE</code>.</p></dd>


<dt>verbose</dt>
<dd><p>Print messages to the console if hourly data cannot be
imported? Default is <code>FALSE</code>. <code>TRUE</code> is useful for debugging as the
specific <code>year</code>(s), <code>site</code>(s) and <code>source</code>(s) which cannot be imported will
be returned.</p></dd>


<dt>progress</dt>
<dd><p>Show a progress bar when many sites/years are being imported?
Defaults to <code>TRUE</code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>a <a href="https://tibble.tidyverse.org/reference/tibble-package.html" class="external-link">tibble</a></p>


    </div>
    <div class="section level2">
    <h2 id="importing-uk-air-pollution-data">Importing UK Air Pollution Data<a class="anchor" aria-label="anchor" href="#importing-uk-air-pollution-data"></a></h2>
    


<p>This family of functions has been written to make it easy to import data
from across several UK air quality networks. Ricardo have provided .RData
files (R workspaces) of all individual sites and years, as well as up to
date meta data. These files are updated on a daily basis. This approach
requires a link to the Internet to work.</p>
<p>For an up to date list of available sites that can be imported, see
<code><a href="importMeta.html">importMeta()</a></code>.</p>
<p>The site codes and pollutant names can be upper or lower case.</p>
<p>There are several advantages over the web portal approach where .csv files
are downloaded. First, it is quick to select a range of sites, pollutants
and periods (see examples below). Second, storing the data as .RData
objects is very efficient as they are about four times smaller than .csv
files --- which means the data downloads quickly and saves bandwidth.
Third, the function completely avoids any need for data manipulation or
setting time formats, time zones etc. The function also has the advantage
that the proper site name is imported and used in <code>{openair}</code> functions.</p>
<p>The data are imported by stacking sites on top of one another and will have
field names <code>site</code>, <code>code</code> (the site code) and <code>pollutant</code>.</p>
<p>By default, the function returns hourly average data. However, annual,
monthly, daily and 15 minute data (for SO2) can be returned using the
option <code>data_type</code>. Annual and monthly data provide whole network
information including data capture statistics.</p>
<p>All units are expressed in mass terms for gaseous species (ug/m3 for NO,
NO2, NOx (as NO2), SO2 and hydrocarbons; and mg/m3 for CO). PM10
concentrations are provided in gravimetric units of ug/m3 or scaled to be
comparable with these units. Over the years a variety of instruments have
been used to measure particulate matter and the technical issues of
measuring PM10 are complex. In recent years the measurements rely on FDMS
(Filter Dynamics Measurement System), which is able to measure the volatile
component of PM. In cases where the FDMS system is in use there will be a
separate volatile component recorded as 'v10' and non-volatile component
'nv10', which is already included in the absolute PM10 measurement. Prior
to the use of FDMS the measurements used TEOM (Tapered Element Oscillating.
Microbalance) and these concentrations have been multiplied by 1.3 to
provide an estimate of the total mass including the volatile fraction.</p>
<p>Some sites report hourly and daily PM10 and / or PM2.5. When <code>data_type = "daily"</code> and there are both hourly and 'proper' daily measurements
available, these will be returned as e.g. "pm2.5" and "gr_pm2.5"; the
former corresponding to data based on original hourly measurements and the
latter corresponding to daily gravimetric measurements.</p>
<p>The function returns modelled hourly values of wind speed (<code>ws</code>), wind
direction (<code>wd</code>) and ambient temperature (<code>air_temp</code>) if available
(generally from around 2010). These values are modelled using the WRF model
operated by Ricardo.</p>
<p>The BAM (Beta-Attenuation Monitor) instruments that have been incorporated
into the network throughout its history have been scaled by 1.3 if they
have a heated inlet (to account for loss of volatile particles) and 0.83 if
they do not have a heated inlet. The few TEOM instruments in the network
after 2008 have been scaled using VCM (Volatile Correction Model) values to
account for the loss of volatile particles. The object of all these scaling
processes is to provide a reasonable degree of comparison between data sets
and with the reference method and to produce a consistent data record over
the operational period of the network, however there may be some
discontinuity in the time series associated with instrument changes.</p>
<p>No corrections have been made to the PM2.5 data. The volatile component of
FDMS PM2.5 (where available) is shown in the 'v2.5' column.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>Other import functions: 
<code><a href="importADMS.html">importADMS</a>()</code>,
<code><a href="import_ukaq_helper.html">importAURN</a>()</code>,
<code><a href="importEurope.html">importEurope</a>()</code>,
<code><a href="importKCL.html">importKCL</a>()</code>,
<code><a href="importMeta.html">importMeta</a>()</code>,
<code><a href="importTraj.html">importTraj</a>()</code></p></div>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>David Carslaw, Trevor Davies, and Jack Davison</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># import a single site from the AURN</span></span></span>
<span class="r-in"><span><span class="fu">importUKAQ</span><span class="op">(</span><span class="st">"my1"</span>, year <span class="op">=</span> <span class="fl">2022</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 8,760 × 15</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    source site     code  date                   co   nox   no2    no    o3   so2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dttm&gt;</span>              <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 1</span> aurn   London … MY1   2022-01-01 <span style="color: #949494;">00:00:00</span> 0.244  65.4  33.3  21.0  17.2 0.266</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 2</span> aurn   London … MY1   2022-01-01 <span style="color: #949494;">01:00:00</span> 0.338 117.   43.6  47.6  13.0 1.33 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 3</span> aurn   London … MY1   2022-01-01 <span style="color: #949494;">02:00:00</span> 0.291  76.7  33.7  28.1  18.8 0.532</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 4</span> aurn   London … MY1   2022-01-01 <span style="color: #949494;">03:00:00</span> 0.291  90.8  37.5  34.7  21.0 0.798</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 5</span> aurn   London … MY1   2022-01-01 <span style="color: #949494;">04:00:00</span> 0.244  93.7  33.1  39.5  20.2 0.798</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 6</span> aurn   London … MY1   2022-01-01 <span style="color: #949494;">05:00:00</span> 0.210  85.3  34.2  33.4  21.8 0.798</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 7</span> aurn   London … MY1   2022-01-01 <span style="color: #949494;">06:00:00</span> 0.186  63.7  27.3  23.7  21.0 0.266</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 8</span> aurn   London … MY1   2022-01-01 <span style="color: #949494;">07:00:00</span> 0.210  67.9  31.2  23.9  21.0 0.532</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 9</span> aurn   London … MY1   2022-01-01 <span style="color: #949494;">08:00:00</span> 0.198  63.1  30.2  21.6  20.8 0.532</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">10</span> aurn   London … MY1   2022-01-01 <span style="color: #949494;">09:00:00</span> 0.210  73.8  33.3  26.3  23.0 0.532</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># ℹ 8,750 more rows</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># ℹ 5 more variables: pm10 &lt;dbl&gt;, pm2.5 &lt;dbl&gt;, ws &lt;dbl&gt;, wd &lt;dbl&gt;,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   air_temp &lt;dbl&gt;</span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># import sites from another network</span></span></span>
<span class="r-in"><span><span class="fu">importUKAQ</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"bn1"</span>, <span class="st">"bn2"</span><span class="op">)</span>, year <span class="op">=</span> <span class="fl">2022</span>, source <span class="op">=</span> <span class="st">"aqe"</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Importing AQ Data <span style="color: #00BB00;">■■■■■■■■■■■■■■■■                </span>  50% |  ETA:  2s</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 17,520 × 8</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    source site            code  date                  nox   no2    no  pm10</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>           <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dttm&gt;</span>              <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 1</span> aqe    Barnet Tally Ho BN1   2022-01-01 <span style="color: #949494;">00:00:00</span> 33.9  21.4  8.15   32.2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 2</span> aqe    Barnet Tally Ho BN1   2022-01-01 <span style="color: #949494;">01:00:00</span> 15.3  10.1  3.43   22.7</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 3</span> aqe    Barnet Tally Ho BN1   2022-01-01 <span style="color: #949494;">02:00:00</span> 14.2   9.10 3.30   17  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 4</span> aqe    Barnet Tally Ho BN1   2022-01-01 <span style="color: #949494;">03:00:00</span>  9.32  6.69 1.71   16.7</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 5</span> aqe    Barnet Tally Ho BN1   2022-01-01 <span style="color: #949494;">04:00:00</span>  7.39  6.11 0.839  17.1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 6</span> aqe    Barnet Tally Ho BN1   2022-01-01 <span style="color: #949494;">05:00:00</span> 17.0  11.0  3.87   16.9</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 7</span> aqe    Barnet Tally Ho BN1   2022-01-01 <span style="color: #949494;">06:00:00</span> 20.8  12.1  5.66   16.3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 8</span> aqe    Barnet Tally Ho BN1   2022-01-01 <span style="color: #949494;">07:00:00</span> 21.9  14.8  4.68   11.3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 9</span> aqe    Barnet Tally Ho BN1   2022-01-01 <span style="color: #949494;">08:00:00</span> 22.7  14.7  5.22   11.9</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">10</span> aqe    Barnet Tally Ho BN1   2022-01-01 <span style="color: #949494;">09:00:00</span> 30.0  17.7  7.98   18.2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># ℹ 17,510 more rows</span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># import sites across multiple networks</span></span></span>
<span class="r-in"><span><span class="fu">importUKAQ</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"my1"</span>, <span class="st">"bn1"</span>, <span class="st">"bn2"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  year <span class="op">=</span> <span class="fl">2022</span>,</span></span>
<span class="r-in"><span>  source <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"aurn"</span>, <span class="st">"aqe"</span>, <span class="st">"aqe"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Importing AQ Data <span style="color: #00BB00;">■■■■■■■■■■■                     </span>  33% |  ETA:  3s</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Importing AQ Data <span style="color: #00BB00;">■■■■■■■■■■■■■■■■■■■■■           </span>  67% |  ETA:  2s</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 26,280 × 15</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    source site     code  date                  nox   no2    no  pm10    co    o3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dttm&gt;</span>              <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 1</span> aqe    Barnet … BN1   2022-01-01 <span style="color: #949494;">00:00:00</span> 33.9  21.4  8.15   32.2    <span style="color: #BB0000;">NA</span>    <span style="color: #BB0000;">NA</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 2</span> aqe    Barnet … BN1   2022-01-01 <span style="color: #949494;">01:00:00</span> 15.3  10.1  3.43   22.7    <span style="color: #BB0000;">NA</span>    <span style="color: #BB0000;">NA</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 3</span> aqe    Barnet … BN1   2022-01-01 <span style="color: #949494;">02:00:00</span> 14.2   9.10 3.30   17      <span style="color: #BB0000;">NA</span>    <span style="color: #BB0000;">NA</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 4</span> aqe    Barnet … BN1   2022-01-01 <span style="color: #949494;">03:00:00</span>  9.32  6.69 1.71   16.7    <span style="color: #BB0000;">NA</span>    <span style="color: #BB0000;">NA</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 5</span> aqe    Barnet … BN1   2022-01-01 <span style="color: #949494;">04:00:00</span>  7.39  6.11 0.839  17.1    <span style="color: #BB0000;">NA</span>    <span style="color: #BB0000;">NA</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 6</span> aqe    Barnet … BN1   2022-01-01 <span style="color: #949494;">05:00:00</span> 17.0  11.0  3.87   16.9    <span style="color: #BB0000;">NA</span>    <span style="color: #BB0000;">NA</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 7</span> aqe    Barnet … BN1   2022-01-01 <span style="color: #949494;">06:00:00</span> 20.8  12.1  5.66   16.3    <span style="color: #BB0000;">NA</span>    <span style="color: #BB0000;">NA</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 8</span> aqe    Barnet … BN1   2022-01-01 <span style="color: #949494;">07:00:00</span> 21.9  14.8  4.68   11.3    <span style="color: #BB0000;">NA</span>    <span style="color: #BB0000;">NA</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 9</span> aqe    Barnet … BN1   2022-01-01 <span style="color: #949494;">08:00:00</span> 22.7  14.7  5.22   11.9    <span style="color: #BB0000;">NA</span>    <span style="color: #BB0000;">NA</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">10</span> aqe    Barnet … BN1   2022-01-01 <span style="color: #949494;">09:00:00</span> 30.0  17.7  7.98   18.2    <span style="color: #BB0000;">NA</span>    <span style="color: #BB0000;">NA</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># ℹ 26,270 more rows</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># ℹ 5 more variables: so2 &lt;dbl&gt;, pm2.5 &lt;dbl&gt;, ws &lt;dbl&gt;, wd &lt;dbl&gt;,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   air_temp &lt;dbl&gt;</span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># get "long" format hourly data with a ratification flag</span></span></span>
<span class="r-in"><span><span class="fu">importUKAQ</span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="st">"card"</span>,</span></span>
<span class="r-in"><span>  source <span class="op">=</span> <span class="st">"waqn"</span>,</span></span>
<span class="r-in"><span>  year <span class="op">=</span> <span class="fl">2022</span>,</span></span>
<span class="r-in"><span>  to_narrow <span class="op">=</span> <span class="cn">TRUE</span>,</span></span>
<span class="r-in"><span>  ratified <span class="op">=</span> <span class="cn">TRUE</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 70,080 × 10</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    source date                site   code     ws    wd air_temp pollutant  value</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dttm&gt;</span>              <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 1</span> waqn   2022-01-01 <span style="color: #949494;">00:00:00</span> Cardi… CARD    5.6  183.     10.6 co        0.092<span style="text-decoration: underline;">8</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 2</span> waqn   2022-01-01 <span style="color: #949494;">01:00:00</span> Cardi… CARD    8.3  198.     11.3 co        0.084<span style="text-decoration: underline;">3</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 3</span> waqn   2022-01-01 <span style="color: #949494;">02:00:00</span> Cardi… CARD    9.2  197      11.4 co        0.085<span style="text-decoration: underline;">4</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 4</span> waqn   2022-01-01 <span style="color: #949494;">03:00:00</span> Cardi… CARD    9.8  189.     11.3 co        0.088<span style="text-decoration: underline;">5</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 5</span> waqn   2022-01-01 <span style="color: #949494;">04:00:00</span> Cardi… CARD    9.2  188.     11.2 co        0.094<span style="text-decoration: underline;">9</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 6</span> waqn   2022-01-01 <span style="color: #949494;">05:00:00</span> Cardi… CARD    8.2  184.     11.1 co        0.079<span style="text-decoration: underline;">0</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 7</span> waqn   2022-01-01 <span style="color: #949494;">06:00:00</span> Cardi… CARD    7.6  178.     11.1 co        0.063<span style="text-decoration: underline;">2</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 8</span> waqn   2022-01-01 <span style="color: #949494;">07:00:00</span> Cardi… CARD    5.9  176.     11.2 co        0.066<span style="text-decoration: underline;">4</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 9</span> waqn   2022-01-01 <span style="color: #949494;">08:00:00</span> Cardi… CARD    4.4  174.     11   co        0.060<span style="text-decoration: underline;">1</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">10</span> waqn   2022-01-01 <span style="color: #949494;">09:00:00</span> Cardi… CARD    3.9  185.     10.7 co        0.069<span style="text-decoration: underline;">6</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># ℹ 70,070 more rows</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># ℹ 1 more variable: qc &lt;lgl&gt;</span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># import other data types, filtering by pollutant</span></span></span>
<span class="r-in"><span><span class="fu">importUKAQ</span><span class="op">(</span></span></span>
<span class="r-in"><span>  data_type <span class="op">=</span> <span class="st">"annual"</span>,</span></span>
<span class="r-in"><span>  pollutant <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"no2"</span>, <span class="st">"pm2.5"</span>, <span class="st">"pm10"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  source <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"aurn"</span>, <span class="st">"aqe"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 335 × 11</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    source uka_code code  site        date                  no2 no2_capture  pm10</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;dttm&gt;</span>              <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 1</span> aurn   UKA00513 ABD7  Aberdeen U… 2022-01-01 <span style="color: #949494;">00:00:00</span> 26.6        0.994 <span style="color: #BB0000;">NA</span>   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 2</span> aurn   UKA00615 ABD8  Aberdeen W… 2022-01-01 <span style="color: #949494;">00:00:00</span> 24.3        0.997 <span style="color: #BB0000;">NA</span>   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 3</span> aurn   UKA00933 ABD9  Aberdeen E… 2022-01-01 <span style="color: #949494;">00:00:00</span> 16.5        0.995 11.3 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 4</span> aurn   UKA00451 ACTH  Auchencort… 2022-01-01 <span style="color: #949494;">00:00:00</span> <span style="color: #BB0000;">NA</span>         <span style="color: #BB0000;">NA</span>      6.23</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 5</span> aurn   UKA00137 AH    Aston Hill  2022-01-01 <span style="color: #949494;">00:00:00</span>  3.20       0.971 <span style="color: #BB0000;">NA</span>   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 6</span> aurn   UKA00541 ARM6  Armagh Roa… 2022-01-01 <span style="color: #949494;">00:00:00</span> 22.2        0.987 16.4 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 7</span> aurn   UKA00633 BAAR  Ballymena … 2022-01-01 <span style="color: #949494;">00:00:00</span> 15.8        0.914 <span style="color: #BB0000;">NA</span>   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 8</span> aurn   UKA00503 BALM  Ballymena … 2022-01-01 <span style="color: #949494;">00:00:00</span> 10.4        0.912 <span style="color: #BB0000;">NA</span>   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 9</span> aurn   UKA00353 BAR3  Barnsley G… 2022-01-01 <span style="color: #949494;">00:00:00</span> 12.8        0.952 <span style="color: #BB0000;">NA</span>   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">10</span> aurn   UKA00625 BBRD  Birkenhead… 2022-01-01 <span style="color: #949494;">00:00:00</span> 16.7        0.906 <span style="color: #BB0000;">NA</span>   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># ℹ 325 more rows</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># ℹ 3 more variables: pm10_capture &lt;dbl&gt;, pm2.5 &lt;dbl&gt;, pm2.5_capture &lt;dbl&gt;</span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by David Carslaw, Jack Davison, Karl Ropkins.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

